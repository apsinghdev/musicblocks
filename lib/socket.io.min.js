!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(()=>(()=>{var e={482:function(e,t,r){!function(e){"use strict";function t(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}var n=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i=[],s=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a=!1;function h(){a=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)i[t]=e[t],s[e.charCodeAt(t)]=t;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63}function c(e,t,r){for(var n,s=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],s.push(i[(a=n)>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);var a;return s.join("")}function l(e){var t;a||h();for(var r=e.length,n=r%3,s="",o=[],l=16383,u=0,f=r-n;u<f;u+=l)o.push(c(e,u,u+l>f?f:u+l));return 1===n?(t=e[r-1],s+=i[t>>2],s+=i[t<<4&63],s+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],s+=i[t>>10],s+=i[t>>4&63],s+=i[t<<2&63],s+="="),o.push(s),o.join("")}function u(e,t,r,n,i){var s,o,a=8*i-n-1,h=(1<<a)-1,c=h>>1,l=-7,u=r?i-1:0,f=r?-1:1,d=e[t+u];for(u+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+e[t+u],u+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+u],u+=f,l-=8);if(0===s)s=1-c;else{if(s===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)}function f(e,t,r,n,i,s){var o,a,h,c=8*s-i-1,l=(1<<c)-1,u=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-o))<1&&(o--,h*=2),(t+=o+u>=1?f/h:f*Math.pow(2,1-u))*h>=2&&(o++,h/=2),o+u>=l?(a=0,o=l):o+u>=1?(a=(t*h-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*_}var d={}.toString,p=Array.isArray||function(e){return"[object Array]"==d.call(e)};y.TYPED_ARRAY_SUPPORT=void 0===n.TYPED_ARRAY_SUPPORT||n.TYPED_ARRAY_SUPPORT;var _=g();function g(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(e,t){if(g()<t)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=y.prototype:(null===e&&(e=new y(t)),e.length=t),e}function y(e,t,r){if(!(y.TYPED_ARRAY_SUPPORT||this instanceof y))return new y(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return w(this,e)}return b(this,e,t,r)}function b(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),y.TYPED_ARRAY_SUPPORT?(e=t).__proto__=y.prototype:e=E(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!y.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|R(t,r),i=(e=m(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(S(t)){var r=0|k(t.length);return 0===(e=m(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?m(e,0):E(e,t);if("Buffer"===t.type&&p(t.data))return E(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function v(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function w(e,t){if(v(t),e=m(e,t<0?0:0|k(t)),!y.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function E(e,t){var r=t.length<0?0:0|k(t.length);e=m(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function k(e){if(e>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|e}function S(e){return!(null==e||!e._isBuffer)}function R(e,t){if(S(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function x(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return M(this,t,r);case"ascii":return z(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return B(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function T(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function O(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=y.from(t,n)),S(t))return 0===t.length?-1:L(e,t,r,n,i);if("number"==typeof t)return t&=255,y.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):L(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function L(e,t,r,n,i){var s,o=1,a=e.length,h=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,h/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===h)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(r+h>a&&(r=a-h),s=r;s>=0;s--){for(var u=!0,f=0;f<h;f++)if(c(e,s+f)!==c(t,f)){u=!1;break}if(u)return s}return-1}function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[r+o]=a}return o}function C(e,t,r,n){return Q(X(t,e.length-r),e,r,n)}function N(e,t,r,n){return Q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return N(e,t,r,n)}function U(e,t,r,n){return Q(J(t),e,r,n)}function I(e,t,r,n){return Q(function(e,t){for(var r,n,i,s=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function B(e,t,r){return 0===t&&r===e.length?l(e):l(e.slice(t,r))}function M(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,h,c=e[i],l=null,u=c>239?4:c>223?3:c>191?2:1;if(i+u<=r)switch(u){case 1:c<128&&(l=c);break;case 2:128==(192&(s=e[i+1]))&&(h=(31&c)<<6|63&s)>127&&(l=h);break;case 3:s=e[i+1],o=e[i+2],128==(192&s)&&128==(192&o)&&(h=(15&c)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,u=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=u}return function(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=D));return r}(n)}y.poolSize=8192,y._augment=function(e){return e.__proto__=y.prototype,e},y.from=function(e,t,r){return b(null,e,t,r)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&y[Symbol.species]),y.alloc=function(e,t,r){return function(e,t,r,n){return v(t),t<=0?m(e,t):void 0!==r?"string"==typeof n?m(e,t).fill(r,n):m(e,t).fill(r):m(e,t)}(null,e,t,r)},y.allocUnsafe=function(e){return w(null,e)},y.allocUnsafeSlow=function(e){return w(null,e)},y.isBuffer=ee,y.compare=function(e,t){if(!S(e)||!S(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},y.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(e,t){if(!p(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return y.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=y.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!S(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},y.byteLength=R,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)T(this,t,t+1);return this},y.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},y.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},y.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):x.apply(this,arguments)},y.prototype.equals=function(e){if(!S(e))throw new TypeError("Argument must be a Buffer");return this===e||0===y.compare(this,e)},y.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},y.prototype.compare=function(e,t,r,n,i){if(!S(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),a=Math.min(s,o),h=this.slice(n,i),c=e.slice(t,r),l=0;l<a;++l)if(h[l]!==c[l]){s=h[l],o=c[l];break}return s<o?-1:o<s?1:0},y.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},y.prototype.indexOf=function(e,t,r){return O(this,e,t,r,!0)},y.prototype.lastIndexOf=function(e,t,r){return O(this,e,t,r,!1)},y.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return C(this,e,t,r);case"ascii":return N(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return U(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function z(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function F(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var s="",o=t;o<r;++o)s+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return s}function q(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function H(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function W(e,t,r,n,i,s){if(!S(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Z(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-r,2);i<s;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-r,4);i<s;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function Y(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(e,t,r,n,i){return i||Y(e,0,r,4),f(e,t,r,n,23,4),r+4}function $(e,t,r,n,i){return i||Y(e,0,r,8),f(e,t,r,n,52,8),r+8}y.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),y.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=y.prototype;else{var i=t-e;r=new y(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},y.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},y.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},y.prototype.readUInt8=function(e,t){return t||H(e,1,this.length),this[e]},y.prototype.readUInt16LE=function(e,t){return t||H(e,2,this.length),this[e]|this[e+1]<<8},y.prototype.readUInt16BE=function(e,t){return t||H(e,2,this.length),this[e]<<8|this[e+1]},y.prototype.readUInt32LE=function(e,t){return t||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},y.prototype.readUInt32BE=function(e,t){return t||H(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},y.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},y.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},y.prototype.readInt8=function(e,t){return t||H(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},y.prototype.readInt16LE=function(e,t){t||H(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt16BE=function(e,t){t||H(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt32LE=function(e,t){return t||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},y.prototype.readInt32BE=function(e,t){return t||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},y.prototype.readFloatLE=function(e,t){return t||H(e,4,this.length),u(this,e,!0,23,4)},y.prototype.readFloatBE=function(e,t){return t||H(e,4,this.length),u(this,e,!1,23,4)},y.prototype.readDoubleLE=function(e,t){return t||H(e,8,this.length),u(this,e,!0,52,8)},y.prototype.readDoubleBE=function(e,t){return t||H(e,8,this.length),u(this,e,!1,52,8)},y.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||W(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},y.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||W(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},y.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,1,255,0),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},y.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Z(this,e,t,!0),t+2},y.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Z(this,e,t,!1),t+2},y.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},y.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},y.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);W(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},y.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);W(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},y.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,1,127,-128),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},y.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Z(this,e,t,!0),t+2},y.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Z(this,e,t,!1),t+2},y.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},y.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||W(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},y.prototype.writeFloatLE=function(e,t,r){return G(this,e,t,!0,r)},y.prototype.writeFloatBE=function(e,t,r){return G(this,e,t,!1,r)},y.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},y.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},y.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!y.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},y.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!y.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=S(e)?e:X(new y(e,n).toString()),a=o.length;for(s=0;s<r-t;++s)this[s+t]=o[s%a]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function X(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function J(e){return function(e){var t,r,n,i,c,l;a||h();var u=e.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[u-2]?2:"="===e[u-1]?1:0,l=new o(3*u/4-c),n=c>0?u-4:u;var f=0;for(t=0,r=0;t<n;t+=4,r+=3)i=s[e.charCodeAt(t)]<<18|s[e.charCodeAt(t+1)]<<12|s[e.charCodeAt(t+2)]<<6|s[e.charCodeAt(t+3)],l[f++]=i>>16&255,l[f++]=i>>8&255,l[f++]=255&i;return 2===c?(i=s[e.charCodeAt(t)]<<2|s[e.charCodeAt(t+1)]>>4,l[f++]=255&i):1===c&&(i=s[e.charCodeAt(t)]<<10|s[e.charCodeAt(t+1)]<<4|s[e.charCodeAt(t+2)]>>2,l[f++]=i>>8&255,l[f++]=255&i),l}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e){return null!=e&&(!!e._isBuffer||te(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&te(e.slice(0,0))}(e))}function te(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var re=Object.freeze({__proto__:null,Buffer:y,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),y.alloc(+e)},isBuffer:ee,kMaxLength:_});const ne=Object.create(null);ne.open="0",ne.close="1",ne.ping="2",ne.pong="3",ne.message="4",ne.upgrade="5",ne.noop="6";const ie=Object.create(null);Object.keys(ne).forEach((e=>{ie[ne[e]]=e}));const se={type:"error",data:"parser error"},oe=({type:e,data:t},r,n)=>t instanceof ArrayBuffer||ArrayBuffer.isView(t)?n(r?t:"b"+ae(t,!0).toString("base64")):n(ne[e]+(t||"")),ae=(e,t)=>y.isBuffer(e)||e instanceof Uint8Array&&!t?e:e instanceof ArrayBuffer?y.from(e):y.from(e.buffer,e.byteOffset,e.byteLength);let he;const ce=(e,t)=>{if("string"!=typeof e)return{type:"message",data:le(e,t)};const r=e.charAt(0);if("b"===r){const r=y.from(e.substring(1),"base64");return{type:"message",data:le(r,t)}}return ie[r]?e.length>1?{type:ie[r],data:e.substring(1)}:{type:ie[r]}:se},le=(e,t)=>"arraybuffer"===t?e instanceof ArrayBuffer?e:y.isBuffer(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e.buffer:y.isBuffer(e)?e:y.from(e),ue=String.fromCharCode(30);function fe(){return new TransformStream({transform(e,t){!function(e,t){if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return t(ae(e.data,!1));oe(e,!0,(e=>{he||(he=new TextEncoder),t(he.encode(e))}))}(e,(r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!=typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(r)}))}})}let de;function pe(e){return e.reduce(((e,t)=>e+t.length),0)}function _e(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function ge(e){if(e)return function(e){for(var t in ge.prototype)e[t]=ge.prototype[t];return e}(e)}ge.prototype.on=ge.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ge.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},ge.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},ge.prototype.emitReserved=ge.prototype.emit,ge.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ge.prototype.hasListeners=function(e){return!!this.listeners(e).length};const me=n;function ye(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const be=me.setTimeout,ve=me.clearTimeout;function we(e,t){t.useNativeTimers?(e.setTimeoutFn=be.bind(me),e.clearTimeoutFn=ve.bind(me)):(e.setTimeoutFn=me.setTimeout.bind(me),e.clearTimeoutFn=me.clearTimeout.bind(me))}class Ee extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class ke extends ge{constructor(e){super(),this.writable=!1,we(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new Ee(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ce(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}const Se="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Re=64,xe={};let Te,Oe=0,Le=0;function Ae(e){let t="";do{t=Se[e%Re]+t,e=Math.floor(e/Re)}while(e>0);return t}function Ce(){const e=Ae(+new Date);return e!==Te?(Oe=0,Te=e):e+"."+Ae(Oe++)}for(;Le<Re;Le++)xe[Se[Le]]=Le;function Ne(){throw new Error("setTimeout has not been defined")}function Pe(){throw new Error("clearTimeout has not been defined")}var Ue=Ne,Ie=Pe;function Be(e){if(Ue===setTimeout)return setTimeout(e,0);if((Ue===Ne||!Ue)&&setTimeout)return Ue=setTimeout,setTimeout(e,0);try{return Ue(e,0)}catch(t){try{return Ue.call(null,e,0)}catch(t){return Ue.call(this,e,0)}}}"function"==typeof n.setTimeout&&(Ue=setTimeout),"function"==typeof n.clearTimeout&&(Ie=clearTimeout);var Me,De=[],ze=!1,je=-1;function Fe(){ze&&Me&&(ze=!1,Me.length?De=Me.concat(De):je=-1,De.length&&qe())}function qe(){if(!ze){var e=Be(Fe);ze=!0;for(var t=De.length;t;){for(Me=De,De=[];++je<t;)Me&&Me[je].run();je=-1,t=De.length}Me=null,ze=!1,function(e){if(Ie===clearTimeout)return clearTimeout(e);if((Ie===Pe||!Ie)&&clearTimeout)return Ie=clearTimeout,clearTimeout(e);try{return Ie(e)}catch(t){try{return Ie.call(null,e)}catch(t){return Ie.call(this,e)}}}(e)}}function He(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];De.push(new We(e,t)),1!==De.length||ze||Be(qe)}function We(e,t){this.fun=e,this.array=t}We.prototype.run=function(){this.fun.apply(null,this.array)};function Ze(){}var Ve=Ze,Ye=Ze,Ge=Ze,$e=Ze,Ke=Ze,Xe=Ze,Je=Ze;var Qe=n.performance||{},et=Qe.now||Qe.mozNow||Qe.msNow||Qe.oNow||Qe.webkitNow||function(){return(new Date).getTime()};var tt=new Date;var rt={nextTick:He,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Ve,addListener:Ye,once:Ge,off:$e,removeListener:Ke,removeAllListeners:Xe,emit:Je,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*et.call(Qe),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tt)/1e3}};function nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function it(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var st,ot=it(Object.freeze({__proto__:null,default:{}})),at=2147483647,ht=36,ct=1,lt=26,ut=38,ft=700,dt=72,pt=128,_t="-",gt=/[^\x20-\x7E]/,mt=/[\x2E\u3002\uFF0E\uFF61]/g,yt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bt=ht-ct,vt=Math.floor,wt=String.fromCharCode;function Et(e){throw new RangeError(yt[e])}function kt(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function St(e,t,r){var n=0;for(e=r?vt(e/ft):e>>1,e+=vt(e/t);e>bt*lt>>1;n+=ht)e=vt(e/bt);return vt(n+(bt+1)*e/(e+ut))}function Rt(e){return function(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(mt,".")).split("."),t).join(".")}(e,(function(e){return gt.test(e)?"xn--"+function(e){var t,r,n,i,s,o,a,h,c,l,u,f,d,p,_,g=[];for(f=(e=function(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}(e)).length,t=pt,r=0,s=dt,o=0;o<f;++o)(u=e[o])<128&&g.push(wt(u));for(n=i=g.length,i&&g.push(_t);n<f;){for(a=at,o=0;o<f;++o)(u=e[o])>=t&&u<a&&(a=u);for(a-t>vt((at-r)/(d=n+1))&&Et("overflow"),r+=(a-t)*d,t=a,o=0;o<f;++o)if((u=e[o])<t&&++r>at&&Et("overflow"),u==t){for(h=r,c=ht;!(h<(l=c<=s?ct:c>=s+lt?lt:c-s));c+=ht)_=h-l,p=ht-l,g.push(wt(kt(l+_%p,0))),h=vt(_/p);g.push(wt(kt(h,0))),s=St(r,d,n==i),r=0,++n}++r,++t}return g.join("")}(e):e}))}st="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var xt=/%[sdj%]/g;function Tt(e){if(!zt(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(Ct(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(xt,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])Dt(o)||!qt(o)?s+=" "+o:s+=" "+Ct(o);return s}function Ot(e,t){if(jt(n.process))return function(){return Ot(e,t).apply(this,arguments)};if(!0===rt.noDeprecation)return e;var r=!1;return function(){if(!r){if(rt.throwDeprecation)throw new Error(t);rt.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var Lt,At={};function Ct(e,t){var r={seen:[],stylize:Pt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Mt(t)?r.showHidden=t:t&&function(e,t){if(!t||!qt(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]]}(r,t),jt(r.showHidden)&&(r.showHidden=!1),jt(r.depth)&&(r.depth=2),jt(r.colors)&&(r.colors=!1),jt(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Nt),Ut(r,e,r.depth)}function Nt(e,t){var r=Ct.styles[t];return r?"["+Ct.colors[r][0]+"m"+e+"["+Ct.colors[r][1]+"m":e}function Pt(e,t){return e}function Ut(e,t,r){if(e.customInspect&&t&&Zt(t.inspect)&&t.inspect!==Ct&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return zt(n)||(n=Ut(e,n,r)),n}var i=function(e,t){if(jt(t))return e.stylize("undefined","undefined");if(zt(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return n=t,"number"==typeof n?e.stylize(""+t,"number"):Mt(t)?e.stylize(""+t,"boolean"):Dt(t)?e.stylize("null","null"):void 0;var n}(e,t);if(i)return i;var s=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),Wt(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return It(t);if(0===s.length){if(Zt(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Ft(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ht(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Wt(t))return It(t)}var h,c,l="",u=!1,f=["{","}"];return c=t,Array.isArray(c)&&(u=!0,f=["[","]"]),Zt(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),Ft(t)&&(l=" "+RegExp.prototype.toString.call(t)),Ht(t)&&(l=" "+Date.prototype.toUTCString.call(t)),Wt(t)&&(l=" "+It(t)),0!==s.length||u&&0!=t.length?r<0?Ft(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),h=u?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)Yt(t,String(o))?s.push(Bt(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(Bt(e,t,r,n,i,!0))})),s}(e,t,r,o,s):s.map((function(n){return Bt(e,t,r,o,n,u)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(h,l,f)):f[0]+l+f[1]}function It(e){return"["+Error.prototype.toString.call(e)+"]"}function Bt(e,t,r,n,i,s){var o,a,h;if((h=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=h.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):h.set&&(a=e.stylize("[Setter]","special")),Yt(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(h.value)<0?(a=Dt(r)?Ut(e,h.value,null):Ut(e,h.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),jt(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function Mt(e){return"boolean"==typeof e}function Dt(e){return null===e}function zt(e){return"string"==typeof e}function jt(e){return void 0===e}function Ft(e){return qt(e)&&"[object RegExp]"===Vt(e)}function qt(e){return"object"==typeof e&&null!==e}function Ht(e){return qt(e)&&"[object Date]"===Vt(e)}function Wt(e){return qt(e)&&("[object Error]"===Vt(e)||e instanceof Error)}function Zt(e){return"function"==typeof e}function Vt(e){return Object.prototype.toString.call(e)}function Yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Ct.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ct.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var $t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Kt(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function Xt(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var Jt=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function Qt(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var h=0;h<a;++h){var c,l,u,f,d=e[h].replace(s,"%20"),p=d.indexOf(r);p>=0?(c=d.substr(0,p),l=d.substr(p+1)):(c=d,l=""),u=decodeURIComponent(c),f=decodeURIComponent(l),Gt(i,u)?$t(i[u])?i[u].push(f):i[u]=[i[u],f]:i[u]=f}return i}const er=n.URL,tr=n.URLSearchParams;var rr={parse:mr,resolve:Er,resolveObject:kr,fileURLToPath:br,format:vr,Url:nr,URL:er,URLSearchParams:tr};function nr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ir=/^([a-z0-9.+-]+:)/i,sr=/:[0-9]*$/,or=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ar=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),hr=["'"].concat(ar),cr=["%","/","?",";","#"].concat(hr),lr=["/","?","#"],ur=255,fr=/^[+a-z0-9A-Z_-]{0,63}$/,dr=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,pr={javascript:!0,"javascript:":!0},_r={javascript:!0,"javascript:":!0},gr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function mr(e,t,r){if(e&&qt(e)&&e instanceof nr)return e;var n=new nr;return n.parse(e,t,r),n}function yr(e,t,r,n){if(!zt(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",o=t.split(s);o[0]=o[0].replace(/\\/g,"/");var a=t=o.join(s);if(a=a.trim(),!n&&1===t.split("#").length){var h=or.exec(a);if(h)return e.path=a,e.href=a,e.pathname=h[1],h[2]?(e.search=h[2],e.query=r?Qt(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var c,l,u,f,d=ir.exec(a);if(d){var p=(d=d[0]).toLowerCase();e.protocol=p,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===a.substr(0,2);!_||d&&_r[d]||(a=a.substr(2),e.slashes=!0)}if(!_r[d]&&(_||d&&!gr[d])){var g,m,y=-1;for(c=0;c<lr.length;c++)-1!==(l=a.indexOf(lr[c]))&&(-1===y||l<y)&&(y=l);for(-1!==(m=-1===y?a.lastIndexOf("@"):a.lastIndexOf("@",y))&&(g=a.slice(0,m),a=a.slice(m+1),e.auth=decodeURIComponent(g)),y=-1,c=0;c<cr.length;c++)-1!==(l=a.indexOf(cr[c]))&&(-1===y||l<y)&&(y=l);-1===y&&(y=a.length),e.host=a.slice(0,y),a=a.slice(y),Sr(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var v=e.hostname.split(/\./);for(c=0,u=v.length;c<u;c++){var w=v[c];if(w&&!w.match(fr)){for(var E="",k=0,S=w.length;k<S;k++)w.charCodeAt(k)>127?E+="x":E+=w[k];if(!E.match(fr)){var R=v.slice(0,c),x=v.slice(c+1),T=w.match(dr);T&&(R.push(T[1]),x.unshift(T[2])),x.length&&(a="/"+x.join(".")+a),e.hostname=R.join(".");break}}}}e.hostname.length>ur?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=Rt(e.hostname)),f=e.port?":"+e.port:"";var O=e.hostname||"";e.host=O+f,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!pr[p])for(c=0,u=hr.length;c<u;c++){var L=hr[c];if(-1!==a.indexOf(L)){var A=encodeURIComponent(L);A===L&&(A=escape(L)),a=a.split(L).join(A)}}var C=a.indexOf("#");-1!==C&&(e.hash=a.substr(C),a=a.slice(0,C));var N=a.indexOf("?");if(-1!==N?(e.search=a.substr(N),e.query=a.substr(N+1),r&&(e.query=Qt(e.query)),a=a.slice(0,N)):r&&(e.search="",e.query={}),a&&(e.pathname=a),gr[p]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){f=e.pathname||"";var P=e.search||"";e.path=f+P}return e.href=wr(e),e}function br(e){if("string"==typeof e)e=(new nr).parse(e);else if(!(e instanceof nr))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if("file:"!==e.protocol)throw new TypeError("The URL must be of scheme file");return function(e){const t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){const r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function vr(e){return zt(e)&&(e=yr({},e)),wr(e)}function wr(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r,n,i,s,o=e.protocol||"",a=e.pathname||"",h=e.hash||"",c=!1,l="";e.host?c=t+e.host:e.hostname&&(c=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(c+=":"+e.port)),e.query&&qt(e.query)&&Object.keys(e.query).length&&(r=e.query,n=n||"&",i=i||"=",null===r&&(r=void 0),l="object"==typeof r?Xt(Jt(r),(function(e){var t=encodeURIComponent(Kt(e))+i;return $t(r[e])?Xt(r[e],(function(e){return t+encodeURIComponent(Kt(e))})).join(n):t+encodeURIComponent(Kt(r[e]))})).join(n):s?encodeURIComponent(Kt(s))+i+encodeURIComponent(Kt(r)):"");var u=e.search||l&&"?"+l||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||gr[o])&&!1!==c?(c="//"+(c||""),a&&"/"!==a.charAt(0)&&(a="/"+a)):c||(c=""),h&&"#"!==h.charAt(0)&&(h="#"+h),u&&"?"!==u.charAt(0)&&(u="?"+u),o+c+(a=a.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(u=u.replace("#","%23"))+h}function Er(e,t){return mr(e,!1,!0).resolve(t)}function kr(e,t){return e?mr(e,!1,!0).resolveObject(t):t}function Sr(e){var t=e.host,r=sr.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}nr.prototype.parse=function(e,t,r){return yr(this,e,t,r)},nr.prototype.format=function(){return wr(this)},nr.prototype.resolve=function(e){return this.resolveObject(mr(e,!1,!0)).format()},nr.prototype.resolveObject=function(e){if(zt(e)){var t=new nr;t.parse(e,!1,!0),e=t}for(var r,n=new nr,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),h=0;h<a.length;h++){var c=a[h];"protocol"!==c&&(n[c]=e[c])}return gr[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!gr[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var f=l[u];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_r[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _,g=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||g||n.host&&e.pathname,b=y,v=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!gr[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===v[0]?v[0]=n.host:v.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),y=y&&(""===r[0]||""===v[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,v=r;else if(r.length)v||(v=[]),v.pop(),v=v.concat(r),n.search=e.search,n.query=e.query;else if(null!=e.search)return w&&(n.hostname=n.host=v.shift(),(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift())),n.search=e.search,n.query=e.query,Dt(n.pathname)&&Dt(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=v.slice(-1)[0],k=(n.host||e.host||v.length>1)&&("."===E||".."===E)||""===E,S=0,R=v.length;R>=0;R--)"."===(E=v[R])?v.splice(R,1):".."===E?(v.splice(R,1),S++):S&&(v.splice(R,1),S--);if(!y&&!b)for(;S--;S)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),k&&"/"!==v.join("/").substr(-1)&&v.push("");var x=""===v[0]||v[0]&&"/"===v[0].charAt(0);return w&&(n.hostname=n.host=x?"":v.length?v.shift():"",(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift())),(y=y||n.host&&v.length)&&!x&&v.unshift(""),v.length?n.pathname=v.join("/"):(n.pathname=null,n.path=null),Dt(n.pathname)&&Dt(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},nr.prototype.parseHost=function(){return Sr(this)};var Rr,xr,Tr=it(Object.freeze({__proto__:null,URL:er,URLSearchParams:tr,Url:nr,default:rr,fileURLToPath:br,format:vr,parse:mr,resolve:Er,resolveObject:kr})),Or=it(Object.freeze({__proto__:null,default:{}})),Lr=Dr(n.fetch)&&Dr(n.ReadableStream);function Ar(e){xr||(xr=new n.XMLHttpRequest).open("GET",n.location.host?"/":"https://example.com");try{return xr.responseType=e,xr.responseType===e}catch(e){return!1}}var Cr=void 0!==n.ArrayBuffer,Nr=Cr&&Dr(n.ArrayBuffer.prototype.slice),Pr=Cr&&Ar("arraybuffer"),Ur=!Lr&&Nr&&Ar("ms-stream"),Ir=!Lr&&Cr&&Ar("moz-chunked-arraybuffer"),Br=Dr(xr.overrideMimeType),Mr=Dr(n.VBArray);function Dr(e){return"function"==typeof e}function zr(){}function jr(){jr.init.call(this)}function Fr(e){return void 0===e._maxListeners?jr.defaultMaxListeners:e._maxListeners}function qr(e,t,r,n){var i,s,o,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]):(s=e._events=new zr,e._eventsCount=0),o){if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=Fr(e))&&i>0&&o.length>i){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=o.length,a=h,"function"==typeof console.warn?console.warn(a):console.log(a)}}else o=s[t]=r,++e._eventsCount;return e}function Hr(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function Wr(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Zr(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}xr=null,zr.prototype=Object.create(null),jr.EventEmitter=jr,jr.usingDomains=!1,jr.prototype.domain=void 0,jr.prototype._events=void 0,jr.prototype._maxListeners=void 0,jr.defaultMaxListeners=10,jr.init=function(){this.domain=null,jr.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new zr,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},jr.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},jr.prototype.getMaxListeners=function(){return Fr(this)},jr.prototype.emit=function(e){var t,r,n,i,s,o,a,h="error"===e;if(o=this._events)h=h&&null==o.error;else if(!h)return!1;if(a=this.domain,h){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=o[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=Zr(e,n),s=0;s<n;++s)i[s].call(r)}(r,l,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,s=Zr(e,i),o=0;o<i;++o)s[o].call(r,n)}(r,l,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var s=e.length,o=Zr(e,s),a=0;a<s;++a)o[a].call(r,n,i)}(r,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,s){if(t)e.call(r,n,i,s);else for(var o=e.length,a=Zr(e,o),h=0;h<o;++h)a[h].call(r,n,i,s)}(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),s=1;s<n;s++)i[s-1]=arguments[s];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,s=Zr(e,i),o=0;o<i;++o)s[o].apply(r,n)}(r,l,this,i)}return!0},jr.prototype.addListener=function(e,t){return qr(this,e,t,!1)},jr.prototype.on=jr.prototype.addListener,jr.prototype.prependListener=function(e,t){return qr(this,e,t,!0)},jr.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Hr(this,e,t)),this},jr.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Hr(this,e,t)),this},jr.prototype.removeListener=function(e,t){var r,n,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new zr:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new zr,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},jr.prototype.off=function(e,t){return this.removeListener(e,t)},jr.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new zr,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new zr:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),s=0;s<i.length;++s)"removeListener"!==(n=i[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new zr,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},jr.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},jr.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Wr.call(e,t)},jr.prototype.listenerCount=Wr,jr.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Vr=Object.freeze({__proto__:null,EventEmitter:jr,default:jr});function Yr(){this.head=null,this.tail=null,this.length=0}Yr.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Yr.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Yr.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Yr.prototype.clear=function(){this.head=this.tail=null,this.length=0},Yr.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},Yr.prototype.concat=function(e){if(0===this.length)return y.alloc(0);if(1===this.length)return this.head.data;for(var t=y.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Gr=y.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $r(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Gr(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Xr;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Jr;break;default:return void(this.write=Kr)}this.charBuffer=new y(6),this.charReceived=0,this.charLength=0}function Kr(e){return e.toString(this.encoding)}function Xr(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Jr(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}$r.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),e.copy(this.charBuffer,0,0,s),t.substring(0,i)}return t},$r.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},$r.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t},tn.ReadableState=en;var Qr=function(e){if(jt(Lt)&&(Lt=rt.env.NODE_DEBUG||""),e=e.toUpperCase(),!At[e])if(new RegExp("\\b"+e+"\\b","i").test(Lt)){At[e]=function(){var t=Tt.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else At[e]=function(){};return At[e]}("stream");function en(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Cn&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Yr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new $r(e.encoding),this.encoding=e.encoding)}function tn(e){if(!(this instanceof tn))return new tn(e);this._readableState=new en(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),jr.call(this)}function rn(e,t,r,n,i){var s=function(e,t){var r=null;return y.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(s)e.emit("error",s);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,on(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var h;!t.decoder||i||n||(r=t.decoder.write(r),h=!t.objectMode&&0===r.length),i||(t.reading=!1),h||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&on(e))),function(e,t){t.readingMore||(t.readingMore=!0,He(hn,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}st(tn,jr),tn.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=y.from(e,t),t=""),rn(this,r,e,t,!1)},tn.prototype.unshift=function(e){return rn(this,this._readableState,e,"",!0)},tn.prototype.isPaused=function(){return!1===this._readableState.flowing},tn.prototype.setEncoding=function(e){return this._readableState.decoder=new $r(e),this._readableState.encoding=e,this};var nn=8388608;function sn(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=nn?e=nn:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function on(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Qr("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?He(an,e):an(e))}function an(e){Qr("emit readable"),e.emit("readable"),un(e)}function hn(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Qr("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function cn(e){Qr("readable nexttick read 0"),e.read(0)}function ln(e,t){t.reading||(Qr("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),un(e),t.flowing&&!t.reading&&e.read(0)}function un(e){var t=e._readableState;for(Qr("flow",t.flowing);t.flowing&&null!==e.read(););}function fn(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?i+=s:i+=s.slice(0,e),0==(e-=o)){o===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=y.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0==(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function dn(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,He(pn,t,e))}function pn(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function _n(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function gn(){}function mn(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function yn(e,t){Object.defineProperty(this,"buffer",{get:Ot((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Cn&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?He(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var s=Sn(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||kn(e,r),n?He(En,e,r,s,i):En(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Tn(this)}function bn(e){if(!(this instanceof bn||this instanceof Cn))return new bn(e);this._writableState=new yn(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),jr.call(this)}function vn(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=y.from(t,r)),t}(t,r,n),y.isBuffer(r)&&(n="buffer");var s=t.objectMode?1:r.length;t.length+=s;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new mn(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else wn(e,t,!1,s,r,n,i);return o}function wn(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function En(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),xn(e,t)}function kn(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;wn(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new Tn(t)}else{for(;r;){var a=r.chunk,h=r.encoding,c=r.callback;if(wn(e,t,!1,t.objectMode?1:a.length,a,h,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function Sn(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function Rn(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function xn(e,t){var r=Sn(t);return r&&(0===t.pendingcb?(Rn(e,t),t.finished=!0,e.emit("finish")):Rn(e,t)),r}function Tn(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}tn.prototype.read=function(e){Qr("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Qr("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?dn(this):on(this),null;if(0===(e=sn(e,t))&&t.ended)return 0===t.length&&dn(this),null;var n,i=t.needReadable;return Qr("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Qr("length less than watermark",i=!0),t.ended||t.reading?Qr("reading or ended",i=!1):i&&(Qr("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=sn(r,t))),null===(n=e>0?fn(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&dn(this)),null!==n&&this.emit("data",n),n},tn.prototype._read=function(e){this.emit("error",new Error("not implemented"))},tn.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Qr("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?c:o;function s(e){Qr("onunpipe"),e===r&&c()}function o(){Qr("onend"),e.end()}n.endEmitted?He(i):r.once("end",i),e.on("unpipe",s);var a=function(e){return function(){var t=e._readableState;Qr("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,un(e))}}(r);e.on("drain",a);var h=!1;function c(){Qr("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",c),r.removeListener("data",u),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var l=!1;function u(t){Qr("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==_n(n.pipes,e))&&!h&&(Qr("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function f(t){var r;Qr("onerror",t),_(),e.removeListener("error",f),0===(r="error",e.listeners(r).length)&&e.emit("error",t)}function d(){e.removeListener("finish",p),_()}function p(){Qr("onfinish"),e.removeListener("close",d),_()}function _(){Qr("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(Qr("pipe resume"),r.resume()),e},tn.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=_n(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},tn.prototype.on=function(e,t){var r=jr.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&on(this):He(cn,this))}return r},tn.prototype.addListener=tn.prototype.on,tn.prototype.resume=function(){var e=this._readableState;return e.flowing||(Qr("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,He(ln,e,t))}(this,e)),this},tn.prototype.pause=function(){return Qr("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Qr("pause"),this._readableState.flowing=!1,this.emit("pause")),this},tn.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(Qr("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){Qr("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){Qr("wrapped _read",t),r&&(r=!1,e.resume())},n},tn._fromList=fn,bn.WritableState=yn,st(bn,jr),yn.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},bn.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},bn.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),y.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=gn),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),He(t,r)}(this,r):function(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):y.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),He(n,s),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=vn(this,n,e,t,r)),i},bn.prototype.cork=function(){this._writableState.corked++},bn.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||kn(this,e))},bn.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},bn.prototype._write=function(e,t,r){r(new Error("not implemented"))},bn.prototype._writev=null,bn.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,xn(e,t),r&&(t.finished?He(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},st(Cn,tn);for(var On=Object.keys(bn.prototype),Ln=0;Ln<On.length;Ln++){var An=On[Ln];Cn.prototype[An]||(Cn.prototype[An]=bn.prototype[An])}function Cn(e){if(!(this instanceof Cn))return new Cn(e);tn.call(this,e),bn.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Nn)}function Nn(){this.allowHalfOpen||this._writableState.ended||He(Pn,this)}function Pn(e){e.end()}function Un(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function In(e){if(!(this instanceof In))return new In(e);Cn.call(this,e),this._transformState=new Un(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){Bn(t,e)})):Bn(t)}))}function Bn(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Mn(e){if(!(this instanceof Mn))return new Mn(e);In.call(this,e)}function Dn(){jr.call(this)}st(In,Cn),In.prototype.push=function(e,t){return this._transformState.needTransform=!1,Cn.prototype.push.call(this,e,t)},In.prototype._transform=function(e,t,r){throw new Error("Not implemented")},In.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},In.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},st(Mn,In),Mn.prototype._transform=function(e,t,r){r(null,e)},st(Dn,jr),Dn.Readable=tn,Dn.Writable=bn,Dn.Duplex=Cn,Dn.Transform=In,Dn.PassThrough=Mn,Dn.Stream=Dn,Dn.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(c(),0===jr.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",h),e.on("error",h),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var zn=Object.freeze({__proto__:null,Duplex:Cn,PassThrough:Mn,Readable:tn,Stream:Dn,Transform:In,Writable:bn,default:Dn}),jn=3,Fn=4;function qn(e,t,r){var n,i=this;if(tn.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){rt.nextTick((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText;for(var s,o,a=t.headers[Symbol.iterator]();s=(o=a.next()).value,!o.done;)i.headers[s[0].toLowerCase()]=s[1],i.rawHeaders.push(s[0],s[1]);var h=t.body.getReader();(n=function(){h.read().then((function(e){i._destroyed||(e.done?i.push(null):(i.push(new y(e.value)),n()))}))})()}else if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(t[2])):void 0!==i.headers[r]?i.headers[r]+=", "+t[2]:i.headers[r]=t[2],i.rawHeaders.push(t[1],t[2])}})),i._charset="x-user-defined",!Br){var c=i.rawHeaders["mime-type"];if(c){var l=c.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}function Hn(e){var t,r=this;bn.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new y(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!Br;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return Lr&&t?"fetch":Ir?"moz-chunked-arraybuffer":Ur?"ms-stream":Pr&&e?"arraybuffer":Mr&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}st(qn,tn),qn.prototype._read=function(){},qn.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==Fn)break;try{r=new n.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new y(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new y(i.length),o=0;o<i.length;o++)s[o]=255&i.charCodeAt(o);e.push(s)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==Fn||!t.response)break;r=t.response,e.push(new y(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==jn||!r)break;e.push(new y(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==jn)break;var a=new n.MSStreamReader;a.onprogress=function(){a.result.byteLength>e._pos&&(e.push(new y(new Uint8Array(a.result.slice(e._pos)))),e._pos=a.result.byteLength)},a.onload=function(){e.push(null)},a.readAsArrayBuffer(r)}e._xhr.readyState===Fn&&"ms-stream"!==e._mode&&e.push(null)},st(Hn,bn);var Wn=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function Zn(e,t){"string"==typeof e&&(e=mr(e));var r=-1===n.location.protocol.search(/^https?:$/)?"http:":"",i=e.protocol||r,s=e.hostname||e.host,o=e.port,a=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?i+"//"+s:"")+(o?":"+o:"")+a,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new Hn(e);return t&&h.on("response",t),h}function Vn(e,t){var r=Zn(e,t);return r.end(),r}function Yn(){}Hn.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===Wn.indexOf(r)&&(this._headers[r]={name:e,value:t})},Hn.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},Hn.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Hn.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,i=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==Rr)return Rr;try{new n.Blob([new ArrayBuffer(1)]),Rr=!0}catch(e){Rr=!1}return Rr}()?new n.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(ee(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(i["content-type"]||{}).value||""}):y.concat(e._body).toString()),"fetch"===e._mode){var s=Object.keys(i).map((function(e){return[i[e].name,i[e].value]}));n.fetch(e._opts.url,{method:e._opts.method,headers:s,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var o=e._xhr=new n.XMLHttpRequest;try{o.open(e._opts.method,e._opts.url,!0)}catch(t){return void rt.nextTick((function(){e.emit("error",t)}))}"responseType"in o&&(o.responseType=e._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(i).forEach((function(e){o.setRequestHeader(i[e].name,i[e].value)})),e._response=null,o.onreadystatechange=function(){switch(o.readyState){case jn:case Fn:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(o.onprogress=function(){e._onXHRProgress()}),o.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{o.send(t)}catch(t){return void rt.nextTick((function(){e.emit("error",t)}))}}}},Hn.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},Hn.prototype._connect=function(){var e=this;e._destroyed||(e._response=new qn(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Hn.prototype._write=function(e,t,r){this._body.push(e),r()},Hn.prototype.abort=Hn.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Hn.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),bn.prototype.end.call(this,e,t,r)},Hn.prototype.flushHeaders=function(){},Hn.prototype.setTimeout=function(){},Hn.prototype.setNoDelay=function(){},Hn.prototype.setSocketKeepAlive=function(){},Yn.defaultMaxSockets=4;var Gn=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],$n={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Kn={request:Zn,get:Vn,Agent:Yn,METHODS:Gn,STATUS_CODES:$n},Xn=it(Object.freeze({__proto__:null,Agent:Yn,METHODS:Gn,STATUS_CODES:$n,default:Kn,get:Vn,request:Zn}));function Jn(e,t){"string"==typeof e&&(e=mr(e));var r=-1===n.location.protocol.search(/^https?:$/)?"http:":"",i=e.protocol||r,s=e.hostname||e.host,o=e.port,a=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?i+"//"+s:"")+(o?":"+o:"")+a,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new Hn(e);return t&&h.on("response",t),h}function Qn(e,t){var r=Jn(e,t);return r.end(),r}function ei(){}ei.defaultMaxSockets=4;var ti=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],ri={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},ni={request:Jn,get:Qn,Agent:ei,METHODS:ti,STATUS_CODES:ri},ii=it(Object.freeze({__proto__:null,Agent:ei,METHODS:ti,STATUS_CODES:ri,default:ni,get:Qn,request:Jn})),si=ot,oi=Tr,ai=Or.spawn,hi=ci;function ci(e){e=e||{};var t,r,n=this,i=Xn,s=ii,o={},a=!1,h={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},c=Object.assign({},h),l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],u=["TRACE","TRACK","CONNECT"],f=!1,d=!1,p=!1,_={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;this.open=function(e,t,r,n,i){if(this.abort(),d=!1,p=!1,!function(e){return e&&-1===u.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");o={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},g(this.OPENED)},this.setDisableHeaderCheck=function(e){a=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!function(e){return a||e&&-1===l.indexOf(e.toLowerCase())}(e))return console.warn('Refused to set unsafe header "'+e+'"'),!1;if(f)throw new Error("INVALID_STATE_ERR: send flag is true");return c[e]=t,!0},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&r.headers[e.toLowerCase()]&&!d?r.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||d)return"";var e="";for(var t in r.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+r.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&c[e]?c[e]:""},this.send=function(a){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(f)throw new Error("INVALID_STATE_ERR: send has already been called");var h,l=!1,u=!1,p=oi.parse(o.url);switch(p.protocol){case"https:":l=!0;case"http:":h=p.hostname;break;case"file:":u=!0;break;case void 0:case"":h="localhost";break;default:throw new Error("Protocol not supported.")}if(u){if("GET"!==o.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)si.readFile(unescape(p.pathname),"utf8",(function(e,t){e?n.handleError(e,e.errno||-1):(n.status=200,n.responseText=t,g(n.DONE))}));else try{this.responseText=si.readFileSync(unescape(p.pathname),"utf8"),this.status=200,g(n.DONE)}catch(e){this.handleError(e,e.errno||-1)}}else{var _=p.port||(l?443:80),m=p.pathname+(p.search?p.search:"");if(c.Host=h,l&&443===_||80===_||(c.Host+=":"+p.port),o.user){void 0===o.password&&(o.password="");var b=new y(o.user+":"+o.password);c.Authorization="Basic "+b.toString("base64")}"GET"===o.method||"HEAD"===o.method?a=null:a?(c["Content-Length"]=y.isBuffer(a)?a.length:y.byteLength(a),c["Content-Type"]||(c["Content-Type"]="text/plain;charset=UTF-8")):"POST"===o.method&&(c["Content-Length"]=0);var v=e.agent||!1,w={host:h,port:_,path:m,method:o.method,headers:c,agent:v};if(l&&(w.pfx=e.pfx,w.key=e.key,w.passphrase=e.passphrase,w.cert=e.cert,w.ca=e.ca,w.ciphers=e.ciphers,w.rejectUnauthorized=!1!==e.rejectUnauthorized),d=!1,o.async){var E=l?s.request:i.request;f=!0,n.dispatchEvent("readystatechange");var k=function(i){if(302===(r=i).statusCode||303===r.statusCode||307===r.statusCode){o.url=r.headers.location;var s=oi.parse(o.url);h=s.hostname;var a={hostname:s.hostname,port:s.port,path:s.path,method:303===r.statusCode?"GET":o.method,headers:c};return l&&(a.pfx=e.pfx,a.key=e.key,a.passphrase=e.passphrase,a.cert=e.cert,a.ca=e.ca,a.ciphers=e.ciphers,a.rejectUnauthorized=!1!==e.rejectUnauthorized),void(t=E(a,k).on("error",S)).end()}r&&r.setEncoding&&r.setEncoding("utf8"),g(n.HEADERS_RECEIVED),n.status=r.statusCode,r.on("data",(function(e){e&&(n.responseText+=e),f&&g(n.LOADING)})),r.on("end",(function(){f&&(f=!1,g(n.DONE))})),r.on("error",(function(e){n.handleError(e)}))},S=function(e){n.handleError(e)};t=E(w,k).on("error",S),e.autoUnref&&t.on("socket",(e=>{e.unref()})),a&&t.write(a),t.end(),n.dispatchEvent("loadstart")}else{var R=".node-xmlhttprequest-content-"+rt.pid,x=".node-xmlhttprequest-sync-"+rt.pid;si.writeFileSync(x,"","utf8");for(var T="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(l?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+R+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');fs.unlinkSync('"+x+"');});response.on('error', function(error) {fs.writeFileSync('"+R+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+x+"');});}).on('error', function(error) {fs.writeFileSync('"+R+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+x+"');});"+(a?"req.write('"+JSON.stringify(a).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",O=ai(rt.argv[0],["-e",T]);si.existsSync(x););if(n.responseText=si.readFileSync(R,"utf8"),O.stdin.end(),si.unlinkSync(R),n.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var L=n.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");n.handleError(L,503)}else n.status=n.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),n.responseText=n.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),g(n.DONE)}}},this.handleError=function(e,t){this.status=t||0,this.statusText=e,this.responseText=e.stack,d=!0,g(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),c=Object.assign({},h),this.responseText="",this.responseXML="",d=p=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!f||this.readyState===this.DONE||(f=!1,g(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in _||(_[e]=[]),_[e].push(t)},this.removeEventListener=function(e,t){e in _&&(_[e]=_[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof n["on"+e]&&(this.readyState===this.DONE?setImmediate((function(){n["on"+e]()})):n["on"+e]()),e in _)for(let t=0,r=_[e].length;t<r;t++)this.readyState===this.DONE?setImmediate((function(){_[e][t].call(n)})):_[e][t].call(n)};var g=function(e){if(!(n.readyState===e||n.readyState===n.UNSENT&&p)&&(n.readyState=e,(o.async||n.readyState<n.OPENED||n.readyState===n.DONE)&&n.dispatchEvent("readystatechange"),n.readyState===n.DONE)){let e;e=p?"abort":d?"error":"load",n.dispatchEvent(e),n.dispatchEvent("loadend")}}}ci.XMLHttpRequest=ci;var li=nt(hi);const ui=li||t({__proto__:null,default:li},[hi]);class fi{constructor(){this.cookies=new Map}parseCookies(e){const t=e.getResponseHeader("set-cookie");t&&t.forEach((e=>{const t=function(e){const t=e.split("; "),r=t[0].indexOf("=");if(-1===r)return;const n=t[0].substring(0,r).trim();if(!n.length)return;let i=t[0].substring(r+1).trim();34===i.charCodeAt(0)&&(i=i.slice(1,-1));const s={name:n,value:i};for(let e=1;e<t.length;e++){const r=t[e].split("=");if(2!==r.length)continue;const n=r[0].trim(),i=r[1].trim();switch(n){case"Expires":s.expires=new Date(i);break;case"Max-Age":const e=new Date;e.setUTCSeconds(e.getUTCSeconds()+parseInt(i,10)),s.expires=e}}return s}(e);t&&this.cookies.set(t.name,t)}))}addCookies(e){const t=[];this.cookies.forEach(((e,r)=>{var n;(null===(n=e.expires)||void 0===n?void 0:n.getTime())<Date.now()?this.cookies.delete(r):t.push(`${r}=${e.value}`)})),t.length&&(e.setDisableHeaderCheck(!0),e.setRequestHeader("cookie",t.join("; ")))}}function di(){}const pi=null!=new ui({xdomain:!1}).responseType;class _i extends ge{constructor(e,t){super(),we(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=ye(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const r=this.xhr=new ui(t);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=_i.requestsCount++,_i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=di,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete _i.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function gi(){for(let e in _i.requests)_i.requests.hasOwnProperty(e)&&_i.requests[e].abort()}_i.requestsCount=0,_i.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",gi):"function"==typeof addEventListener&&addEventListener("onpagehide"in me?"pagehide":"unload",gi,!1));var mi=it(zn),yi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function bi(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function vi(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]}var wi=Uint8Array,Ei=Uint16Array,ki=Int32Array,Si=4,Ri=0,xi=1,Ti=2;function Oi(e){for(var t=e.length;--t>=0;)e[t]=0}var Li=0,Ai=1,Ci=2,Ni=29,Pi=256,Ui=Pi+1+Ni,Ii=30,Bi=19,Mi=2*Ui+1,Di=15,zi=16,ji=7,Fi=256,qi=16,Hi=17,Wi=18,Zi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Vi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Yi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Gi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$i=new Array(2*(Ui+2));Oi($i);var Ki=new Array(2*Ii);Oi(Ki);var Xi=new Array(512);Oi(Xi);var Ji=new Array(256);Oi(Ji);var Qi=new Array(Ni);Oi(Qi);var es,ts,rs,ns=new Array(Ii);function is(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function ss(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function os(e){return e<256?Xi[e]:Xi[256+(e>>>7)]}function as(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function hs(e,t,r){e.bi_valid>zi-r?(e.bi_buf|=t<<e.bi_valid&65535,as(e,e.bi_buf),e.bi_buf=t>>zi-e.bi_valid,e.bi_valid+=r-zi):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function cs(e,t,r){hs(e,r[2*t],r[2*t+1])}function ls(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function us(e,t,r){var n,i,s=new Array(Di+1),o=0;for(n=1;n<=Di;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=ls(s[a]++,a))}}function fs(e){var t;for(t=0;t<Ui;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Ii;t++)e.dyn_dtree[2*t]=0;for(t=0;t<Bi;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Fi]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function ds(e){e.bi_valid>8?as(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ps(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function _s(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&ps(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ps(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function gs(e,t,r){var n,i,s,o,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===n?cs(e,i,t):(cs(e,(s=Ji[i])+Pi+1,t),0!==(o=Zi[s])&&hs(e,i-=Qi[s],o),cs(e,s=os(--n),r),0!==(o=Vi[s])&&hs(e,n-=ns[s],o))}while(a<e.last_lit);cs(e,Fi,t)}function ms(e,t){var r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,h=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=Mi,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)_s(e,s,r);i=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_s(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,_s(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,o,a,h=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(s=0;s<=Di;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<Mi;r++)(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)>p&&(s=p,_++),h[2*n+1]=s,n>c||(e.bl_count[s]++,o=0,n>=d&&(o=f[n-d]),a=h[2*n],e.opt_len+=a*(s+o),u&&(e.static_len+=a*(l[2*n+1]+o)));if(0!==_){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,_-=2}while(_>0);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>c||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),us(s,c,e.bl_count)}function ys(e,t,r){var n,i,s=-1,o=t[1],a=0,h=7,c=4;for(0===o&&(h=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<h&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*qi]++):a<=10?e.bl_tree[2*Hi]++:e.bl_tree[2*Wi]++,a=0,s=i,0===o?(h=138,c=3):i===o?(h=6,c=3):(h=7,c=4))}function bs(e,t,r){var n,i,s=-1,o=t[1],a=0,h=7,c=4;for(0===o&&(h=138,c=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<h&&i===o)){if(a<c)do{cs(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(cs(e,i,e.bl_tree),a--),cs(e,qi,e.bl_tree),hs(e,a-3,2)):a<=10?(cs(e,Hi,e.bl_tree),hs(e,a-3,3)):(cs(e,Wi,e.bl_tree),hs(e,a-11,7));a=0,s=i,0===o?(h=138,c=3):i===o?(h=6,c=3):(h=7,c=4)}}Oi(ns);var vs=!1;function ws(e){vs||(function(){var e,t,r,n,i,s=new Array(Di+1);for(r=0,n=0;n<Ni-1;n++)for(Qi[n]=r,e=0;e<1<<Zi[n];e++)Ji[r++]=n;for(Ji[r-1]=n,i=0,n=0;n<16;n++)for(ns[n]=i,e=0;e<1<<Vi[n];e++)Xi[i++]=n;for(i>>=7;n<Ii;n++)for(ns[n]=i<<7,e=0;e<1<<Vi[n]-7;e++)Xi[256+i++]=n;for(t=0;t<=Di;t++)s[t]=0;for(e=0;e<=143;)$i[2*e+1]=8,e++,s[8]++;for(;e<=255;)$i[2*e+1]=9,e++,s[9]++;for(;e<=279;)$i[2*e+1]=7,e++,s[7]++;for(;e<=287;)$i[2*e+1]=8,e++,s[8]++;for(us($i,Ui+1,s),e=0;e<Ii;e++)Ki[2*e+1]=5,Ki[2*e]=ls(e,5);es=new is($i,Zi,Pi+1,Ui,Di),ts=new is(Ki,Vi,0,Ii,Di),rs=new is(new Array(0),Yi,0,Bi,ji)}(),vs=!0),e.l_desc=new ss(e.dyn_ltree,es),e.d_desc=new ss(e.dyn_dtree,ts),e.bl_desc=new ss(e.bl_tree,rs),e.bi_buf=0,e.bi_valid=0,fs(e)}function Es(e,t,r,n){hs(e,(Li<<1)+(n?1:0),3),function(e,t,r,n){ds(e),as(e,r),as(e,~r),vi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}function ks(e){hs(e,Ai<<1,3),cs(e,Fi,$i),function(e){16===e.bi_valid?(as(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}function Ss(e,t,r,n){var i,s,o=0;e.level>0?(e.strm.data_type===Ti&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return Ri;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return xi;for(t=32;t<Pi;t++)if(0!==e.dyn_ltree[2*t])return xi;return Ri}(e)),ms(e,e.l_desc),ms(e,e.d_desc),o=function(e){var t;for(ys(e,e.dyn_ltree,e.l_desc.max_code),ys(e,e.dyn_dtree,e.d_desc.max_code),ms(e,e.bl_desc),t=Bi-1;t>=3&&0===e.bl_tree[2*Gi[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?Es(e,t,r,n):e.strategy===Si||s===i?(hs(e,(Ai<<1)+(n?1:0),3),gs(e,$i,Ki)):(hs(e,(Ci<<1)+(n?1:0),3),function(e,t,r,n){var i;for(hs(e,t-257,5),hs(e,r-1,5),hs(e,n-4,4),i=0;i<n;i++)hs(e,e.bl_tree[2*Gi[i]+1],3);bs(e,e.dyn_ltree,t-1),bs(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),gs(e,e.dyn_ltree,e.dyn_dtree)),fs(e),n&&ds(e)}function Rs(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Ji[r]+Pi+1)]++,e.dyn_dtree[2*os(t)]++),e.last_lit===e.lit_bufsize-1}function xs(e,t,r,n){for(var i=65535&e,s=e>>>16&65535,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+t[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16}var Ts=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Os(e,t,r,n){var i=Ts,s=n+r;e^=-1;for(var o=n;o<s;o++)e=e>>>8^i[255&(e^t[o])];return~e}var Ls,As=0,Cs=4,Ns=0,Ps=-2,Us=2,Is=8,Bs=286,Ms=30,Ds=19,zs=2*Bs+1,js=15,Fs=3,qs=258,Hs=qs+Fs+1,Ws=42,Zs=103,Vs=113,Ys=666,Gs=1,$s=2,Ks=3,Xs=4;function Js(e,t){return e.msg=yi[t],t}function Qs(e){return(e<<1)-(e>4?9:0)}function eo(e){for(var t=e.length;--t>=0;)e[t]=0}function to(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(vi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function ro(e,t){Ss(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,to(e.strm)}function no(e,t){e.pending_buf[e.pending++]=t}function io(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function so(e,t){var r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,h=e.strstart>e.w_size-Hs?e.strstart-(e.w_size-Hs):0,c=e.window,l=e.w_mask,u=e.prev,f=e.strstart+qs,d=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(r=t)+o]===p&&c[r+o-1]===d&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do{}while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<f);if(n=qs-(f-s),s=f-qs,n>o){if(e.match_start=t,o=n,n>=a)break;d=c[s+o-1],p=c[s+o]}}}while((t=u[t&l])>h&&0!=--i);return o<=e.lookahead?o:e.lookahead}function oo(e){var t,r,n,i,s,o,a,h,c,l,u=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Hs)){vi(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=u?n-u:0}while(--r);t=r=u;do{n=e.prev[--t],e.prev[t]=n>=u?n-u:0}while(--r);i+=u}if(0===e.strm.avail_in)break;if(o=e.strm,a=e.window,h=e.strstart+e.lookahead,c=i,l=void 0,(l=o.avail_in)>c&&(l=c),r=0===l?0:(o.avail_in-=l,vi(a,o.input,o.next_in,l,h),1===o.state.wrap?o.adler=xs(o.adler,a,l,h):2===o.state.wrap&&(o.adler=Os(o.adler,a,l,h)),o.next_in+=l,o.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=Fs)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Fs-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Fs)););}while(e.lookahead<Hs&&0!==e.strm.avail_in)}function ao(e,t){for(var r,n;;){if(e.lookahead<Hs){if(oo(e),e.lookahead<Hs&&t===As)return Gs;if(0===e.lookahead)break}if(r=0,e.lookahead>=Fs&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fs-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Hs&&(e.match_length=so(e,r)),e.match_length>=Fs)if(n=Rs(e,e.strstart-e.match_start,e.match_length-Fs),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Fs){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fs-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Rs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ro(e,!1),0===e.strm.avail_out))return Gs}return e.insert=e.strstart<Fs-1?e.strstart:Fs-1,t===Cs?(ro(e,!0),0===e.strm.avail_out?Ks:Xs):e.last_lit&&(ro(e,!1),0===e.strm.avail_out)?Gs:$s}function ho(e,t){for(var r,n,i;;){if(e.lookahead<Hs){if(oo(e),e.lookahead<Hs&&t===As)return Gs;if(0===e.lookahead)break}if(r=0,e.lookahead>=Fs&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fs-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Fs-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Hs&&(e.match_length=so(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===Fs&&e.strstart-e.match_start>4096)&&(e.match_length=Fs-1)),e.prev_length>=Fs&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Fs,n=Rs(e,e.strstart-1-e.prev_match,e.prev_length-Fs),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Fs-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Fs-1,e.strstart++,n&&(ro(e,!1),0===e.strm.avail_out))return Gs}else if(e.match_available){if((n=Rs(e,0,e.window[e.strstart-1]))&&ro(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Gs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Rs(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Fs-1?e.strstart:Fs-1,t===Cs?(ro(e,!0),0===e.strm.avail_out?Ks:Xs):e.last_lit&&(ro(e,!1),0===e.strm.avail_out)?Gs:$s}function co(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function lo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Is,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ei(2*zs),this.dyn_dtree=new Ei(2*(2*Ms+1)),this.bl_tree=new Ei(2*(2*Ds+1)),eo(this.dyn_ltree),eo(this.dyn_dtree),eo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ei(js+1),this.heap=new Ei(2*Bs+1),eo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ei(2*Bs+1),eo(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function uo(e){var t,r=function(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Us,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Ws:Vs,e.adler=2===t.wrap?0:1,t.last_flush=As,ws(t),Ns):Js(e,Ps)}(e);return r===Ns&&((t=e.state).window_size=2*t.w_size,eo(t.head),t.max_lazy_match=Ls[t.level].max_lazy,t.good_match=Ls[t.level].good_length,t.nice_match=Ls[t.level].nice_length,t.max_chain_length=Ls[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Fs-1,t.match_available=0,t.ins_h=0),r}function fo(e,t){var r,n,i,s;if(!e||!e.state||t>5||t<0)return e?Js(e,Ps):Ps;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===Ys&&t!==Cs)return Js(e,0===e.avail_out?-5:Ps);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Ws)if(2===n.wrap)e.adler=0,no(n,31),no(n,139),no(n,8),n.gzhead?(no(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),no(n,255&n.gzhead.time),no(n,n.gzhead.time>>8&255),no(n,n.gzhead.time>>16&255),no(n,n.gzhead.time>>24&255),no(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),no(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(no(n,255&n.gzhead.extra.length),no(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Os(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(no(n,0),no(n,0),no(n,0),no(n,0),no(n,0),no(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),no(n,3),n.status=Vs);else{var o=Is+(n.w_bits-8<<4)<<8;o|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=32),o+=31-o%31,n.status=Vs,io(n,o),0!==n.strstart&&(io(n,e.adler>>>16),io(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),to(e),i=n.pending,n.pending!==n.pending_buf_size));)no(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),to(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,no(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),to(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,no(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=Os(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=Zs)}else n.status=Zs;if(n.status===Zs&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&to(e),n.pending+2<=n.pending_buf_size&&(no(n,255&e.adler),no(n,e.adler>>8&255),e.adler=0,n.status=Vs)):n.status=Vs),0!==n.pending){if(to(e),0===e.avail_out)return n.last_flush=-1,Ns}else if(0===e.avail_in&&Qs(t)<=Qs(r)&&t!==Cs)return Js(e,-5);if(n.status===Ys&&0!==e.avail_in)return Js(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==As&&n.status!==Ys){var a=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(oo(e),0===e.lookahead)){if(t===As)return Gs;break}if(e.match_length=0,r=Rs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(ro(e,!1),0===e.strm.avail_out))return Gs}return e.insert=0,t===Cs?(ro(e,!0),0===e.strm.avail_out?Ks:Xs):e.last_lit&&(ro(e,!1),0===e.strm.avail_out)?Gs:$s}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,o=e.window;;){if(e.lookahead<=qs){if(oo(e),e.lookahead<=qs&&t===As)return Gs;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Fs&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=e.strstart+qs;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=qs-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Fs?(r=Rs(e,1,e.match_length-Fs),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Rs(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(ro(e,!1),0===e.strm.avail_out))return Gs}return e.insert=0,t===Cs?(ro(e,!0),0===e.strm.avail_out?Ks:Xs):e.last_lit&&(ro(e,!1),0===e.strm.avail_out)?Gs:$s}(n,t):Ls[n.level].func(n,t);if(a!==Ks&&a!==Xs||(n.status=Ys),a===Gs||a===Ks)return 0===e.avail_out&&(n.last_flush=-1),Ns;if(a===$s&&(1===t?ks(n):5!==t&&(Es(n,0,0,!1),3===t&&(eo(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),to(e),0===e.avail_out))return n.last_flush=-1,Ns}return t!==Cs?Ns:n.wrap<=0?1:(2===n.wrap?(no(n,255&e.adler),no(n,e.adler>>8&255),no(n,e.adler>>16&255),no(n,e.adler>>24&255),no(n,255&e.total_in),no(n,e.total_in>>8&255),no(n,e.total_in>>16&255),no(n,e.total_in>>24&255)):(io(n,e.adler>>>16),io(n,65535&e.adler)),to(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ns:1)}Ls=[new co(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oo(e),0===e.lookahead&&t===As)return Gs;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,ro(e,!1),0===e.strm.avail_out))return Gs;if(e.strstart-e.block_start>=e.w_size-Hs&&(ro(e,!1),0===e.strm.avail_out))return Gs}return e.insert=0,t===Cs?(ro(e,!0),0===e.strm.avail_out?Ks:Xs):(e.strstart>e.block_start&&(ro(e,!1),e.strm.avail_out),Gs)})),new co(4,4,8,4,ao),new co(4,5,16,8,ao),new co(4,6,32,32,ao),new co(4,4,16,16,ho),new co(8,16,32,32,ho),new co(8,16,128,128,ho),new co(8,32,128,256,ho),new co(32,128,258,1024,ho),new co(32,258,258,4096,ho)];var po=30,_o=12;function go(e,t){var r,n,i,s,o,a,h,c,l,u,f,d,p,_,g,m,y,b,v,w,E,k,S,R,x;r=e.state,n=e.next_in,R=e.input,i=n+(e.avail_in-5),s=e.next_out,x=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),h=r.dmax,c=r.wsize,l=r.whave,u=r.wnext,f=r.window,d=r.hold,p=r.bits,_=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(d+=R[n++]<<p,p+=8,d+=R[n++]<<p,p+=8),b=_[d&m];t:for(;;){if(d>>>=v=b>>>24,p-=v,0==(v=b>>>16&255))x[s++]=65535&b;else{if(!(16&v)){if(64&v){if(32&v){r.mode=_o;break e}e.msg="invalid literal/length code",r.mode=po;break e}b=_[(65535&b)+(d&(1<<v)-1)];continue t}for(w=65535&b,(v&=15)&&(p<v&&(d+=R[n++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=R[n++]<<p,p+=8,d+=R[n++]<<p,p+=8),b=g[d&y];;){if(d>>>=v=b>>>24,p-=v,16&(v=b>>>16&255)){if(E=65535&b,p<(v&=15)&&(d+=R[n++]<<p,(p+=8)<v&&(d+=R[n++]<<p,p+=8)),(E+=d&(1<<v)-1)>h){e.msg="invalid distance too far back",r.mode=po;break e}if(d>>>=v,p-=v,E>(v=s-o)){if((v=E-v)>l&&r.sane){e.msg="invalid distance too far back",r.mode=po;break e}if(k=0,S=f,0===u){if(k+=c-v,v<w){w-=v;do{x[s++]=f[k++]}while(--v);k=s-E,S=x}}else if(u<v){if(k+=c+u-v,(v-=u)<w){w-=v;do{x[s++]=f[k++]}while(--v);if(k=0,u<w){w-=v=u;do{x[s++]=f[k++]}while(--v);k=s-E,S=x}}}else if(k+=u-v,v<w){w-=v;do{x[s++]=f[k++]}while(--v);k=s-E,S=x}for(;w>2;)x[s++]=S[k++],x[s++]=S[k++],x[s++]=S[k++],w-=3;w&&(x[s++]=S[k++],w>1&&(x[s++]=S[k++]))}else{k=s-E;do{x[s++]=x[k++],x[s++]=x[k++],x[s++]=x[k++],w-=3}while(w>2);w&&(x[s++]=x[k++],w>1&&(x[s++]=x[k++]))}break}if(64&v){e.msg="invalid distance code",r.mode=po;break e}b=g[(65535&b)+(d&(1<<v)-1)]}}break}}while(n<i&&s<a);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=d,r.bits=p}var mo=15,yo=852,bo=592,vo=0,wo=1,Eo=2,ko=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],So=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ro=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xo=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function To(e,t,r,n,i,s,o,a){var h,c,l,u,f,d,p,_,g,m=a.bits,y=0,b=0,v=0,w=0,E=0,k=0,S=0,R=0,x=0,T=0,O=null,L=0,A=new Ei(mo+1),C=new Ei(mo+1),N=null,P=0;for(y=0;y<=mo;y++)A[y]=0;for(b=0;b<n;b++)A[t[r+b]]++;for(E=m,w=mo;w>=1&&0===A[w];w--);if(E>w&&(E=w),0===w)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(v=1;v<w&&0===A[v];v++);for(E<v&&(E=v),R=1,y=1;y<=mo;y++)if(R<<=1,(R-=A[y])<0)return-1;if(R>0&&(e===vo||1!==w))return-1;for(C[1]=0,y=1;y<mo;y++)C[y+1]=C[y]+A[y];for(b=0;b<n;b++)0!==t[r+b]&&(o[C[t[r+b]]++]=b);if(e===vo?(O=N=o,d=19):e===wo?(O=ko,L-=257,N=So,P-=257,d=256):(O=Ro,N=xo,d=-1),T=0,b=0,y=v,f=s,k=E,S=0,l=-1,u=(x=1<<E)-1,e===wo&&x>yo||e===Eo&&x>bo)return 1;for(;;){p=y-S,o[b]<d?(_=0,g=o[b]):o[b]>d?(_=N[P+o[b]],g=O[L+o[b]]):(_=96,g=0),h=1<<y-S,v=c=1<<k;do{i[f+(T>>S)+(c-=h)]=p<<24|_<<16|g}while(0!==c);for(h=1<<y-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,b++,0==--A[y]){if(y===w)break;y=t[r+o[b]]}if(y>E&&(T&u)!==l){for(0===S&&(S=E),f+=v,R=1<<(k=y-S);k+S<w&&!((R-=A[k+S])<=0);)k++,R<<=1;if(x+=1<<k,e===wo&&x>yo||e===Eo&&x>bo)return 1;i[l=T&u]=E<<24|k<<16|f-s}}return 0!==T&&(i[f+T]=y-S<<24|64<<16),a.bits=E,0}var Oo=1,Lo=2,Ao=0,Co=-2,No=1,Po=12,Uo=30,Io=852,Bo=592;function Mo(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function Do(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ei(320),this.work=new Ei(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function zo(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=No,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new ki(Io),t.distcode=t.distdyn=new ki(Bo),t.sane=1,t.back=-1,Ao):Co}(e)):Co}function jo(e,t){var r,n;return e?(n=new Do,e.state=n,n.window=null,(r=function(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Co:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,zo(e))):Co}(e,t))!==Ao&&(e.state=null),r):Co}var Fo,qo,Ho=!0;function Wo(e){if(Ho){var t;for(Fo=new ki(512),qo=new ki(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(To(Oo,e.lens,0,288,Fo,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;To(Lo,e.lens,0,32,qo,0,e.work,{bits:5}),Ho=!1}e.lencode=Fo,e.lenbits=9,e.distcode=qo,e.distbits=5}function Zo(e,t){var r,n,i,s,o,a,h,c,l,u,f,d,p,_,g,m,y,b,v,w,E,k,S,R,x=0,T=new wi(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Co;(r=e.state).mode===Po&&(r.mode=13),o=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,l=r.bits,u=a,f=h,k=Ao;e:for(;;)switch(r.mode){case No:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===c){r.check=0,T[0]=255&c,T[1]=c>>>8&255,r.check=Os(r.check,T,2,0),c=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Uo;break}if(8!=(15&c)){e.msg="unknown compression method",r.mode=Uo;break}if(l-=4,E=8+(15&(c>>>=4)),0===r.wbits)r.wbits=E;else if(E>r.wbits){e.msg="invalid window size",r.mode=Uo;break}r.dmax=1<<E,e.adler=r.check=1,r.mode=512&c?10:Po,c=0,l=0;break;case 2:for(;l<16;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(r.flags=c,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=Uo;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Uo;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=Os(r.check,T,2,0)),c=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=Os(r.check,T,4,0)),c=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=Os(r.check,T,2,0)),c=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(T[0]=255&c,T[1]=c>>>8&255,r.check=Os(r.check,T,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>a&&(d=a),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),vi(r.head.extra,n,s,d,E)),512&r.flags&&(r.check=Os(r.check,n,d,s)),a-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break e;d=0;do{E=n[s+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=Os(r.check,n,d,s)),a-=d,s+=d,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break e;d=0;do{E=n[s+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=Os(r.check,n,d,s)),a-=d,s+=d,E)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Uo;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Po;break;case 10:for(;l<32;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}e.adler=r.check=Mo(c),c=0,l=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=l,2;e.adler=r.check=1,r.mode=Po;case Po:if(5===t||6===t)break e;case 13:if(r.last){c>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}switch(r.last=1&c,l-=1,3&(c>>>=1)){case 0:r.mode=14;break;case 1:if(Wo(r),r.mode=20,6===t){c>>>=2,l-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=Uo}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Uo;break}if(r.length=65535&c,c=0,l=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(d>a&&(d=a),d>h&&(d=h),0===d)break e;vi(i,n,s,d,o),a-=d,s+=d,h-=d,o+=d,r.length-=d;break}r.mode=Po;break;case 17:for(;l<14;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Uo;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.lens[O[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},k=To(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,k){e.msg="invalid code lengths set",r.mode=Uo;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;m=(x=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=l);){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(y<16)c>>>=g,l-=g,r.lens[r.have++]=y;else{if(16===y){for(R=g+2;l<R;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(c>>>=g,l-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=Uo;break}E=r.lens[r.have-1],d=3+(3&c),c>>>=2,l-=2}else if(17===y){for(R=g+3;l<R;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}l-=g,E=0,d=3+(7&(c>>>=g)),c>>>=3,l-=3}else{for(R=g+7;l<R;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}l-=g,E=0,d=11+(127&(c>>>=g)),c>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Uo;break}for(;d--;)r.lens[r.have++]=E}}if(r.mode===Uo)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Uo;break}if(r.lenbits=9,S={bits:r.lenbits},k=To(Oo,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,k){e.msg="invalid literal/lengths set",r.mode=Uo;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},k=To(Lo,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,k){e.msg="invalid distances set",r.mode=Uo;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(a>=6&&h>=258){e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=l,go(e,f),o=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,l=r.bits,r.mode===Po&&(r.back=-1);break}for(r.back=0;m=(x=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=l);){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(m&&!(240&m)){for(b=g,v=m,w=y;m=(x=r.lencode[w+((c&(1<<b+v)-1)>>b)])>>>16&255,y=65535&x,!(b+(g=x>>>24)<=l);){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}c>>>=b,l-=b,r.back+=b}if(c>>>=g,l-=g,r.back+=g,r.length=y,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=Po;break}if(64&m){e.msg="invalid literal/length code",r.mode=Uo;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(R=r.extra;l<R;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;m=(x=r.distcode[c&(1<<r.distbits)-1])>>>16&255,y=65535&x,!((g=x>>>24)<=l);){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(!(240&m)){for(b=g,v=m,w=y;m=(x=r.distcode[w+((c&(1<<b+v)-1)>>b)])>>>16&255,y=65535&x,!(b+(g=x>>>24)<=l);){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}c>>>=b,l-=b,r.back+=b}if(c>>>=g,l-=g,r.back+=g,64&m){e.msg="invalid distance code",r.mode=Uo;break}r.offset=y,r.extra=15&m,r.mode=24;case 24:if(r.extra){for(R=r.extra;l<R;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Uo;break}r.mode=25;case 25:if(0===h)break e;if(d=f-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Uo;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),_=r.window}else _=i,p=o-r.offset,d=r.length;d>h&&(d=h),h-=d,r.length-=d;do{i[o++]=_[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[o++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===a)break e;a--,c|=n[s++]<<l,l+=8}if(f-=h,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?Os(r.check,i,f,o-f):xs(r.check,i,f,o-f)),f=h,(r.flags?c:Mo(c))!==r.check){e.msg="incorrect data check",r.mode=Uo;break}c=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break e;a--,c+=n[s++]<<l,l+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Uo;break}c=0,l=0}r.mode=29;case 29:k=1;break e;case Uo:k=-3;break e;case 31:return-4;default:return Co}return e.next_out=o,e.avail_out=h,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=l,(r.wsize||f!==e.avail_out&&r.mode<Uo&&(r.mode<27||4!==t))&&function(e,t,r,n){var i,s=e.state;null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new wi(s.wsize)),n>=s.wsize?(vi(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>n&&(i=n),vi(s.window,t,r-n,i,s.wnext),(n-=i)?(vi(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i)))}(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?Os(r.check,i,f,e.next_out-f):xs(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Po?128:0)+(20===r.mode||15===r.mode?256:0),(0===u&&0===f||4===t)&&k===Ao&&(k=-5),k}var Vo;function Yo(e){if(e<1||e>7)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function Go(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}Yo.prototype.init=function(e,t,r,n,i){var s;switch(this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,3!==this.mode&&4!==this.mode||(this.windowBits+=16),7===this.mode&&(this.windowBits+=32),5!==this.mode&&6!==this.mode||(this.windowBits=-this.windowBits),this.strm=new bi,this.mode){case 1:case 3:case 5:s=function(e,t,r,n,i,s){if(!e)return Ps;var o=1;if(-1===t&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==Is||n<8||n>15||t<0||t>9||s<0||s>4)return Js(e,Ps);8===n&&(n=9);var a=new lo;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Fs-1)/Fs),a.window=new wi(2*a.w_size),a.head=new Ei(a.hash_size),a.prev=new Ei(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new wi(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,uo(e)}(this.strm,this.level,8,this.windowBits,this.memLevel,this.strategy);break;case 2:case 4:case 6:case 7:s=jo(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}0===s?(this.write_in_progress=!1,this.init_done=!0):this._error(s)},Yo.prototype.params=function(){throw new Error("deflateParams Not supported")},Yo.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(0===this.mode)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Yo.prototype.write=function(e,t,r,n,i,s,o){this._writeCheck(),this.write_in_progress=!0;var a=this;return rt.nextTick((function(){a.write_in_progress=!1;var h=a._write(e,t,r,n,i,s,o);a.callback(h[0],h[1]),a.pending_close&&a.close()})),this},Yo.prototype.writeSync=function(e,t,r,n,i,s,o){return this._writeCheck(),this._write(e,t,r,n,i,s,o)},Yo.prototype._write=function(e,t,r,n,i,s,o){if(this.write_in_progress=!0,0!==e&&1!==e&&2!==e&&3!==e&&4!==e&&5!==e)throw new Error("Invalid flush value");null==t&&(t=new y(0),n=0,r=0),i._set?i.set=i._set:i.set=Go;var a,h=this.strm;switch(h.avail_in=n,h.input=t,h.next_in=r,h.avail_out=o,h.output=i,h.next_out=s,this.mode){case 1:case 3:case 5:a=fo(h,e);break;case 7:case 2:case 4:case 6:a=Zo(h,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(a,h,e)||this._error(a),this.write_in_progress=!1,[h.avail_in,h.avail_out]},Yo.prototype._checkError=function(e,t,r){switch(e){case 0:case-5:if(0!==t.avail_out&&4===r)return!1;break;case 1:break;default:return!1}return!0},Yo.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,1===this.mode||3===this.mode||5===this.mode?function(e){var t;e&&e.state&&((t=e.state.status)!==Ws&&69!==t&&73!==t&&91!==t&&t!==Zs&&t!==Vs&&t!==Ys?Js(e,Ps):(e.state=null,t===Vs&&Js(e,-3)))}(this.strm):function(e){if(!e||!e.state)return Co;var t=e.state;t.window&&(t.window=null),e.state=null}(this.strm),this.mode=0)},Yo.prototype.reset=function(){switch(this.mode){case 1:case 5:Vo=uo(this.strm);break;case 2:case 6:Vo=zo(this.strm)}0!==Vo&&this._error(Vo)},Yo.prototype._error=function(e){this.onerror(yi[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var $o=Object.freeze({__proto__:null,DEFLATE:1,DEFLATERAW:5,GUNZIP:4,GZIP:3,INFLATE:2,INFLATERAW:6,NONE:0,UNZIP:7,Z_BEST_COMPRESSION:9,Z_BEST_SPEED:1,Z_BINARY:0,Z_BLOCK:5,Z_BUF_ERROR:-5,Z_DATA_ERROR:-3,Z_DEFAULT_COMPRESSION:-1,Z_DEFAULT_STRATEGY:0,Z_DEFLATED:8,Z_ERRNO:-1,Z_FILTERED:1,Z_FINISH:4,Z_FIXED:4,Z_FULL_FLUSH:3,Z_HUFFMAN_ONLY:2,Z_NEED_DICT:2,Z_NO_COMPRESSION:0,Z_NO_FLUSH:0,Z_OK:0,Z_PARTIAL_FLUSH:1,Z_RLE:3,Z_STREAM_END:1,Z_STREAM_ERROR:-2,Z_SYNC_FLUSH:2,Z_TEXT:1,Z_TREES:6,Z_UNKNOWN:2,Zlib:Yo});var Ko={};Object.keys($o).forEach((function(e){Ko[e]=$o[e]})),Ko.Z_MIN_WINDOWBITS=8,Ko.Z_MAX_WINDOWBITS=15,Ko.Z_DEFAULT_WINDOWBITS=15,Ko.Z_MIN_CHUNK=64,Ko.Z_MAX_CHUNK=1/0,Ko.Z_DEFAULT_CHUNK=16384,Ko.Z_MIN_MEMLEVEL=1,Ko.Z_MAX_MEMLEVEL=9,Ko.Z_DEFAULT_MEMLEVEL=8,Ko.Z_MIN_LEVEL=-1,Ko.Z_MAX_LEVEL=9,Ko.Z_DEFAULT_LEVEL=Ko.Z_DEFAULT_COMPRESSION;var Xo={Z_OK:Ko.Z_OK,Z_STREAM_END:Ko.Z_STREAM_END,Z_NEED_DICT:Ko.Z_NEED_DICT,Z_ERRNO:Ko.Z_ERRNO,Z_STREAM_ERROR:Ko.Z_STREAM_ERROR,Z_DATA_ERROR:Ko.Z_DATA_ERROR,Z_MEM_ERROR:Ko.Z_MEM_ERROR,Z_BUF_ERROR:Ko.Z_BUF_ERROR,Z_VERSION_ERROR:Ko.Z_VERSION_ERROR};function Jo(e){return new wa(e)}function Qo(e){return new Ea(e)}function ea(e){return new Ra(e)}function ta(e){return new xa(e)}function ra(e){return new ka(e)}function na(e){return new Sa(e)}function ia(e){return new Ta(e)}function sa(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new wa(t),e,r)}function oa(e,t){return va(new wa(t),e)}function aa(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new ka(t),e,r)}function ha(e,t){return va(new ka(t),e)}function ca(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new Ra(t),e,r)}function la(e,t){return va(new Ra(t),e)}function ua(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new Ta(t),e,r)}function fa(e,t){return va(new Ta(t),e)}function da(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new Ea(t),e,r)}function pa(e,t){return va(new Ea(t),e)}function _a(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new Sa(t),e,r)}function ga(e,t){return va(new Sa(t),e)}function ma(e,t,r){return"function"==typeof t&&(r=t,t={}),ba(new xa(t),e,r)}function ya(e,t){return va(new xa(t),e)}function ba(e,t,r){var n=[],i=0;function s(){for(var t;null!==(t=e.read());)n.push(t),i+=t.length;e.once("readable",s)}function o(){var t=y.concat(n,i);n=[],r(null,t),e.close()}e.on("error",(function(t){e.removeListener("end",o),e.removeListener("readable",s),r(t)})),e.on("end",o),e.end(t),s()}function va(e,t){if("string"==typeof t&&(t=new y(t)),!y.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Ko.Z_FINISH;return e._processChunk(t,r)}function wa(e){if(!(this instanceof wa))return new wa(e);Oa.call(this,e,Ko.DEFLATE)}function Ea(e){if(!(this instanceof Ea))return new Ea(e);Oa.call(this,e,Ko.INFLATE)}function ka(e){if(!(this instanceof ka))return new ka(e);Oa.call(this,e,Ko.GZIP)}function Sa(e){if(!(this instanceof Sa))return new Sa(e);Oa.call(this,e,Ko.GUNZIP)}function Ra(e){if(!(this instanceof Ra))return new Ra(e);Oa.call(this,e,Ko.DEFLATERAW)}function xa(e){if(!(this instanceof xa))return new xa(e);Oa.call(this,e,Ko.INFLATERAW)}function Ta(e){if(!(this instanceof Ta))return new Ta(e);Oa.call(this,e,Ko.UNZIP)}function Oa(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Ko.Z_DEFAULT_CHUNK,In.call(this,e),e.flush&&e.flush!==Ko.Z_NO_FLUSH&&e.flush!==Ko.Z_PARTIAL_FLUSH&&e.flush!==Ko.Z_SYNC_FLUSH&&e.flush!==Ko.Z_FULL_FLUSH&&e.flush!==Ko.Z_FINISH&&e.flush!==Ko.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Ko.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Ko.Z_MIN_CHUNK||e.chunkSize>Ko.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Ko.Z_MIN_WINDOWBITS||e.windowBits>Ko.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Ko.Z_MIN_LEVEL||e.level>Ko.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Ko.Z_MIN_MEMLEVEL||e.memLevel>Ko.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Ko.Z_FILTERED&&e.strategy!=Ko.Z_HUFFMAN_ONLY&&e.strategy!=Ko.Z_RLE&&e.strategy!=Ko.Z_FIXED&&e.strategy!=Ko.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!y.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Ko.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(e,t){r._binding=null,r._hadError=!0;var n=new Error(e);n.errno=t,n.code=Xo[t],r.emit("error",n)};var n=Ko.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(n=e.level);var i=Ko.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(i=e.strategy),this._binding.init(e.windowBits||Ko.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Ko.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new y(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}Object.keys(Xo).forEach((function(e){Xo[Xo[e]]=e})),st(Oa,In),Oa.prototype.params=function(e,t,r){if(e<Ko.Z_MIN_LEVEL||e>Ko.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Ko.Z_FILTERED&&t!=Ko.Z_HUFFMAN_ONLY&&t!=Ko.Z_RLE&&t!=Ko.Z_FIXED&&t!=Ko.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Ko.Z_SYNC_FLUSH,(function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())}))}else rt.nextTick(r)},Oa.prototype.reset=function(){return this._binding.reset()},Oa.prototype._flush=function(e){this._transform(new y(0),"",e)},Oa.prototype.flush=function(e,t){var r=this._writableState;if(("function"==typeof e||void 0===e&&!t)&&(t=e,e=Ko.Z_FULL_FLUSH),r.ended)t&&rt.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",(function(){n.flush(t)}))}else this._flushFlag=e,this.write(new y(0),"",t)},Oa.prototype.close=function(e){if(e&&rt.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;rt.nextTick((function(){t.emit("close")}))}},Oa.prototype._transform=function(e,t,r){var n,i=this._writableState,s=(i.ending||i.ended)&&(!e||i.length===e.length);if(null===!e&&!y.isBuffer(e))return r(new Error("invalid input"));s?n=Ko.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||Ko.Z_NO_FLUSH)),this._processChunk(e,n,r)},Oa.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,s=0,o=this,a="function"==typeof r;if(!a){var h,c=[],l=0;this.on("error",(function(e){h=e}));do{var u=this._binding.writeSync(t,e,s,n,this._buffer,this._offset,i)}while(!this._hadError&&p(u[0],u[1]));if(this._hadError)throw h;var f=y.concat(c,l);return this.close(),f}var d=this._binding.write(t,e,s,n,this._buffer,this._offset,i);function p(h,u){if(!o._hadError){var f=i-u;if(function(e,t){if(!e)throw new Error(t)}(f>=0,"have should not go down"),f>0){var d=o._buffer.slice(o._offset,o._offset+f);o._offset+=f,a?o.push(d):(c.push(d),l+=d.length)}if((0===u||o._offset>=o._chunkSize)&&(i=o._chunkSize,o._offset=0,o._buffer=new y(o._chunkSize)),0===u){if(s+=n-h,n=h,!a)return!0;var _=o._binding.write(t,e,s,n,o._buffer,o._offset,o._chunkSize);return _.callback=p,void(_.buffer=e)}if(!a)return!1;r()}}d.buffer=e,d.callback=p},st(wa,Oa),st(Ea,Oa),st(ka,Oa),st(Sa,Oa),st(Ra,Oa),st(xa,Oa),st(Ta,Oa);var La={codes:Xo,createDeflate:Jo,createInflate:Qo,createDeflateRaw:ea,createInflateRaw:ta,createGzip:ra,createGunzip:na,createUnzip:ia,deflate:sa,deflateSync:oa,gzip:aa,gzipSync:ha,deflateRaw:ca,deflateRawSync:la,unzip:ua,unzipSync:fa,inflate:da,inflateSync:pa,gunzip:_a,gunzipSync:ga,inflateRaw:ma,inflateRawSync:ya,Deflate:wa,Inflate:Ea,Gzip:ka,Gunzip:Sa,DeflateRaw:Ra,InflateRaw:xa,Unzip:Ta,Zlib:Oa},Aa=it(Object.freeze({__proto__:null,Deflate:wa,DeflateRaw:Ra,Gunzip:Sa,Gzip:ka,Inflate:Ea,InflateRaw:xa,Unzip:Ta,Zlib:Oa,codes:Xo,createDeflate:Jo,createDeflateRaw:ea,createGunzip:na,createGzip:ra,createInflate:Qo,createInflateRaw:ta,createUnzip:ia,default:La,deflate:sa,deflateRaw:ca,deflateRawSync:la,deflateSync:oa,gunzip:_a,gunzipSync:ga,gzip:aa,gzipSync:ha,inflate:da,inflateRaw:ma,inflateRawSync:ya,inflateSync:pa,unzip:ua,unzipSync:fa})),Ca={exports:{}},Na={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:y.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}};const{EMPTY_BUFFER:Pa}=Na,Ua=y[Symbol.species];function Ia(e,t,r,n,i){for(let s=0;s<i;s++)r[n+s]=e[s]^t[3&s]}function Ba(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(Ca.exports={concat:function(e,t){if(0===e.length)return Pa;if(1===e.length)return e[0];const r=y.allocUnsafe(t);let n=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return n<t?new Ua(r.buffer,r.byteOffset,n):r},mask:Ia,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,y.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=new Ua(t):ArrayBuffer.isView(t)?r=new Ua(t.buffer,t.byteOffset,t.byteLength):(r=y.from(t),e.readOnly=!1),r},unmask:Ba},!rt.env.WS_NO_BUFFER_UTIL)try{const e=r(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));Ca.exports.mask=function(t,r,n,i,s){s<48?Ia(t,r,n,i,s):e.mask(t,r,n,i,s)},Ca.exports.unmask=function(t,r){t.length<32?Ba(t,r):e.unmask(t,r)}}catch(e){}var Ma=Ca.exports;const Da=Symbol("kDone"),za=Symbol("kRun"),ja=Aa,Fa=Ma,qa=class{constructor(e){this[Da]=()=>{this.pending--,this[za]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[za]()}[za](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[Da])}}},{kStatusCode:Ha}=Na,Wa=y[Symbol.species],Za=y.from([0,0,255,255]),Va=Symbol("permessage-deflate"),Ya=Symbol("total-length"),Ga=Symbol("callback"),$a=Symbol("buffers"),Ka=Symbol("error");let Xa;var Ja=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Xa){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;Xa=new qa(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[Ga];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){Xa.add((n=>{this._decompress(e,t,((e,t)=>{n(),r(e,t)}))}))}compress(e,t,r){Xa.add((n=>{this._compress(e,t,((e,t)=>{n(),r(e,t)}))}))}_decompress(e,t,r){const n=this._isServer?"client":"server";if(!this._inflate){const e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?ja.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=ja.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[Va]=this,this._inflate[Ya]=0,this._inflate[$a]=[],this._inflate.on("error",th),this._inflate.on("data",eh)}this._inflate[Ga]=r,this._inflate.write(e),t&&this._inflate.write(Za),this._inflate.flush((()=>{const e=this._inflate[Ka];if(e)return this._inflate.close(),this._inflate=null,void r(e);const i=Fa.concat(this._inflate[$a],this._inflate[Ya]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ya]=0,this._inflate[$a]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)}))}_compress(e,t,r){const n=this._isServer?"server":"client";if(!this._deflate){const e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?ja.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=ja.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[Ya]=0,this._deflate[$a]=[],this._deflate.on("data",Qa)}this._deflate[Ga]=r,this._deflate.write(e),this._deflate.flush(ja.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=Fa.concat(this._deflate[$a],this._deflate[Ya]);t&&(e=new Wa(e.buffer,e.byteOffset,e.length-4)),this._deflate[Ga]=null,this._deflate[Ya]=0,this._deflate[$a]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}};function Qa(e){this[$a].push(e),this[Ya]+=e.length}function eh(e){this[Ya]+=e.length,this[Va]._maxPayload<1||this[Ya]<=this[Va]._maxPayload?this[$a].push(e):(this[Ka]=new RangeError("Max payload size exceeded"),this[Ka].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ka][Ha]=1009,this.removeListener("data",eh),this.reset())}function th(e){this[Va]._inflate=null,e[Ha]=1007,this[Ga](e)}var rh={exports:{}},nh=it(re);const{isUtf8:ih}=nh;function sh(e){const t=e.length;let r=0;for(;r<t;)if(128&e[r])if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}else r++;return!0}if(rh.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:sh,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},ih)rh.exports.isValidUTF8=function(e){return e.length<24?sh(e):ih(e)};else if(!rt.env.WS_NO_UTF_8_VALIDATE)try{const e=r(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));rh.exports.isValidUTF8=function(t){return t.length<32?sh(t):e(t)}}catch(e){}var oh=rh.exports;const{Writable:ah}=mi,hh=Ja,{BINARY_TYPES:ch,EMPTY_BUFFER:lh,kStatusCode:uh,kWebSocket:fh}=Na,{concat:dh,toArrayBuffer:ph,unmask:_h}=Ma,{isValidStatusCode:gh,isValidUTF8:mh}=oh,yh=y[Symbol.species];var bh=it(Object.freeze({__proto__:null,default:{}}));const{randomFillSync:vh}=bh,wh=Ja,{EMPTY_BUFFER:Eh}=Na,{isValidStatusCode:kh}=oh,{mask:Sh,toBuffer:Rh}=Ma,xh=Symbol("kByteLength"),Th=y.alloc(4),Oh=8192;let Lh,Ah=Oh;var Ch=it(Vr),Nh=it(Object.freeze({__proto__:null,default:{}})),Ph=it(Object.freeze({__proto__:null,default:{}}));const{kForOnEventAttribute:Uh,kListener:Ih}=Na,Bh=Symbol("kCode"),Mh=Symbol("kData"),Dh=Symbol("kError"),zh=Symbol("kMessage"),jh=Symbol("kReason"),Fh=Symbol("kTarget"),qh=Symbol("kType"),Hh=Symbol("kWasClean");class Wh{constructor(e){this[Fh]=null,this[qh]=e}get target(){return this[Fh]}get type(){return this[qh]}}Object.defineProperty(Wh.prototype,"target",{enumerable:!0}),Object.defineProperty(Wh.prototype,"type",{enumerable:!0});class Zh extends Wh{constructor(e,t={}){super(e),this[Bh]=void 0===t.code?0:t.code,this[jh]=void 0===t.reason?"":t.reason,this[Hh]=void 0!==t.wasClean&&t.wasClean}get code(){return this[Bh]}get reason(){return this[jh]}get wasClean(){return this[Hh]}}Object.defineProperty(Zh.prototype,"code",{enumerable:!0}),Object.defineProperty(Zh.prototype,"reason",{enumerable:!0}),Object.defineProperty(Zh.prototype,"wasClean",{enumerable:!0});class Vh extends Wh{constructor(e,t={}){super(e),this[Dh]=void 0===t.error?null:t.error,this[zh]=void 0===t.message?"":t.message}get error(){return this[Dh]}get message(){return this[zh]}}Object.defineProperty(Vh.prototype,"error",{enumerable:!0}),Object.defineProperty(Vh.prototype,"message",{enumerable:!0});class Yh extends Wh{constructor(e,t={}){super(e),this[Mh]=void 0===t.data?null:t.data}get data(){return this[Mh]}}Object.defineProperty(Yh.prototype,"data",{enumerable:!0});const Gh={addEventListener(e,t,r={}){for(const n of this.listeners(e))if(!r[Uh]&&n[Ih]===t&&!n[Uh])return;let n;if("message"===e)n=function(e,r){const n=new Yh("message",{data:r?e:e.toString()});n[Fh]=this,Kh(t,this,n)};else if("close"===e)n=function(e,r){const n=new Zh("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[Fh]=this,Kh(t,this,n)};else if("error"===e)n=function(e){const r=new Vh("error",{error:e,message:e.message});r[Fh]=this,Kh(t,this,r)};else{if("open"!==e)return;n=function(){const e=new Wh("open");e[Fh]=this,Kh(t,this,e)}}n[Uh]=!!r[Uh],n[Ih]=t,r.once?this.once(e,n):this.on(e,n)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[Ih]===t&&!r[Uh]){this.removeListener(e,r);break}}};var $h={CloseEvent:Zh,ErrorEvent:Vh,Event:Wh,EventTarget:Gh,MessageEvent:Yh};function Kh(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}const{tokenChars:Xh}=oh;function Jh(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}var Qh={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let r,n,i=Object.create(null),s=!1,o=!1,a=!1,h=-1,c=-1,l=-1,u=0;for(;u<e.length;u++)if(c=e.charCodeAt(u),void 0===r)if(-1===l&&1===Xh[c])-1===h&&(h=u);else if(0===u||32!==c&&9!==c){if(59!==c&&44!==c)throw new SyntaxError(`Unexpected character at index ${u}`);{if(-1===h)throw new SyntaxError(`Unexpected character at index ${u}`);-1===l&&(l=u);const n=e.slice(h,l);44===c?(Jh(t,n,i),i=Object.create(null)):r=n,h=l=-1}}else-1===l&&-1!==h&&(l=u);else if(void 0===n)if(-1===l&&1===Xh[c])-1===h&&(h=u);else if(32===c||9===c)-1===l&&-1!==h&&(l=u);else if(59===c||44===c){if(-1===h)throw new SyntaxError(`Unexpected character at index ${u}`);-1===l&&(l=u),Jh(i,e.slice(h,l),!0),44===c&&(Jh(t,r,i),i=Object.create(null),r=void 0),h=l=-1}else{if(61!==c||-1===h||-1!==l)throw new SyntaxError(`Unexpected character at index ${u}`);n=e.slice(h,u),h=l=-1}else if(o){if(1!==Xh[c])throw new SyntaxError(`Unexpected character at index ${u}`);-1===h?h=u:s||(s=!0),o=!1}else if(a)if(1===Xh[c])-1===h&&(h=u);else if(34===c&&-1!==h)a=!1,l=u;else{if(92!==c)throw new SyntaxError(`Unexpected character at index ${u}`);o=!0}else if(34===c&&61===e.charCodeAt(u-1))a=!0;else if(-1===l&&1===Xh[c])-1===h&&(h=u);else if(-1===h||32!==c&&9!==c){if(59!==c&&44!==c)throw new SyntaxError(`Unexpected character at index ${u}`);{if(-1===h)throw new SyntaxError(`Unexpected character at index ${u}`);-1===l&&(l=u);let o=e.slice(h,l);s&&(o=o.replace(/\\/g,""),s=!1),Jh(i,n,o),44===c&&(Jh(t,r,i),i=Object.create(null),r=void 0),n=void 0,h=l=-1}}else-1===l&&(l=u);if(-1===h||a||32===c||9===c)throw new SyntaxError("Unexpected end of input");-1===l&&(l=u);const f=e.slice(h,l);return void 0===r?Jh(t,f,i):(void 0===n?Jh(i,f,!0):Jh(i,n,s?f.replace(/\\/g,""):f),Jh(t,r,i)),t}};const ec=Ch,tc=ii,rc=Xn,nc=Nh,ic=Ph,{randomBytes:sc,createHash:oc}=bh,{URL:ac}=Tr,hc=Ja,cc=class extends ah{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||ch[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[fh]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new yh(t.buffer,t.byteOffset+e,t.length-e),new yh(t.buffer,t.byteOffset,e)}const t=y.allocUnsafe(e);do{const r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new yh(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(48&t[0])return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));const r=!(64&~t[0]);if(!r||this._extensions[hh.extensionName]){if(this._fin=!(128&~t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=r}else{if(!(this._opcode>7&&this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(r)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~t[1]),this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),r=t.readUInt32BE(0);r>Math.pow(2,21)-1?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=lh;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&_h(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,t){this._extensions[hh.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?dh(r,t):"arraybuffer"===this._binaryType?ph(dh(r,t)):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)})))}else{const n=dh(r,t);if(!this._skipUTF8Validation&&!mh(n)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,lh),this.end();else{const r=e.readUInt16BE(0);if(!gh(r)){const e=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const n=new yh(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!mh(n)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0}}createError(e,t,r,n,i){this._loop=!1,this._errored=!0;const s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=i,s[uh]=n,s}},lc=class e{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=y.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,n,i=!1,s=2,o=!1;t.mask&&(r=t.maskBuffer||Th,t.generateMask?t.generateMask(r):(Ah===Oh&&(void 0===Lh&&(Lh=y.alloc(Oh)),vh(Lh,0,Oh),Ah=0),r[0]=Lh[Ah++],r[1]=Lh[Ah++],r[2]=Lh[Ah++],r[3]=Lh[Ah++]),o=!(r[0]|r[1]|r[2]|r[3]),s=6),"string"==typeof e?n=t.mask&&!o||void 0===t[xh]?(e=y.from(e)).length:t[xh]:(n=e.length,i=t.mask&&t.readOnly&&!o);let a=n;n>=65536?(s+=8,a=127):n>125&&(s+=2,a=126);const h=y.allocUnsafe(i?n+s:s);return h[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(h[0]|=64),h[1]=a,126===a?h.writeUInt16BE(n,2):127===a&&(h[2]=h[3]=0,h.writeUIntBE(n,4,6)),t.mask?(h[1]|=128,h[s-4]=r[0],h[s-3]=r[1],h[s-2]=r[2],h[s-1]=r[3],o?[h,e]:i?(Sh(e,r,h,s,n),[h]):(Sh(e,r,e,0,n),[h,e])):[h,e]}close(t,r,n,i){let s;if(void 0===t)s=Eh;else{if("number"!=typeof t||!kh(t))throw new TypeError("First argument must be a valid error code number");if(void 0!==r&&r.length){const e=y.byteLength(r);if(e>123)throw new RangeError("The message must not be greater than 123 bytes");s=y.allocUnsafe(2+e),s.writeUInt16BE(t,0),"string"==typeof r?s.write(r,2):s.set(r,2)}else s=y.allocUnsafe(2),s.writeUInt16BE(t,0)}const o={[xh]:s.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,i]):this.sendFrame(e.frame(s,o),i)}ping(t,r,n){let i,s;if("string"==typeof t?(i=y.byteLength(t),s=!1):(i=(t=Rh(t)).length,s=Rh.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[xh]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(e.frame(t,o),n)}pong(t,r,n){let i,s;if("string"==typeof t?(i=y.byteLength(t),s=!1):(i=(t=Rh(t)).length,s=Rh.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[xh]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,n]):this.sendFrame(e.frame(t,o),n)}send(t,r,n){const i=this._extensions[wh.extensionName];let s,o,a=r.binary?2:1,h=r.compress;if("string"==typeof t?(s=y.byteLength(t),o=!1):(s=(t=Rh(t)).length,o=Rh.readOnly),this._firstFragment?(this._firstFragment=!1,h&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(h=s>=i._threshold),this._compress=h):(h=!1,a=0),r.fin&&(this._firstFragment=!0),i){const e={[xh]:s,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:h};this._deflating?this.enqueue([this.dispatch,t,this._compress,e,n]):this.dispatch(t,this._compress,e,n)}else this.sendFrame(e.frame(t,{[xh]:s,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:!1}),n)}dispatch(t,r,n,i){if(!r)return void this.sendFrame(e.frame(t,n),i);const s=this._extensions[wh.extensionName];this._bufferedBytes+=n[xh],this._deflating=!0,s.compress(t,n.fin,((t,r)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t],n=r[r.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=n[xh],this._deflating=!1,n.readOnly=!1,this.sendFrame(e.frame(r,n),i),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][xh],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][xh],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}},{BINARY_TYPES:uc,EMPTY_BUFFER:fc,GUID:dc,kForOnEventAttribute:pc,kListener:_c,kStatusCode:gc,kWebSocket:mc,NOOP:yc}=Na,{EventTarget:{addEventListener:bc,removeEventListener:vc}}=$h,{format:wc,parse:Ec}=Qh,{toBuffer:kc}=Ma,Sc=Symbol("kAborted"),Rc=[8,13],xc=["CONNECTING","OPEN","CLOSING","CLOSED"],Tc=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;let Oc=class e extends ec{constructor(t,r,n){super(),this._binaryType=uc[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=fc,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=e.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==t?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===r?r=[]:Array.isArray(r)||("object"==typeof r&&null!==r?(n=r,r=[]):r=[r]),Lc(this,t,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){uc.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,r,n){const i=new cc({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new lc(t,this._extensions,n.generateMask),this._receiver=i,this._socket=t,i[mc]=this,t[mc]=this,i.on("conclude",Ic),i.on("drain",Bc),i.on("error",Mc),i.on("message",zc),i.on("ping",jc),i.on("pong",Fc),t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),r.length>0&&t.unshift(r),t.on("close",Hc),t.on("data",Wc),t.on("end",Zc),t.on("error",Vc),this._readyState=e.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=e.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[hc.extensionName]&&this._extensions[hc.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=e.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,r){if(this.readyState!==e.CLOSED)if(this.readyState!==e.CONNECTING)this.readyState!==e.CLOSING?(this._readyState=e.CLOSING,this._sender.close(t,r,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";Pc(this,this._req,e)}}pause(){this.readyState!==e.CONNECTING&&this.readyState!==e.CLOSED&&(this._paused=!0,this._socket.pause())}ping(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===e.OPEN?(void 0===r&&(r=!this._isServer),this._sender.ping(t||fc,r,n)):Uc(this,t,n)}pong(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r&&(n=r,r=void 0),"number"==typeof t&&(t=t.toString()),this.readyState===e.OPEN?(void 0===r&&(r=!this._isServer),this._sender.pong(t||fc,r,n)):Uc(this,t,n)}resume(){this.readyState!==e.CONNECTING&&this.readyState!==e.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,r,n){if(this.readyState===e.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof r&&(n=r,r={}),"number"==typeof t&&(t=t.toString()),this.readyState!==e.OPEN)return void Uc(this,t,n);const i={binary:"string"!=typeof t,mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[hc.extensionName]||(i.compress=!1),this._sender.send(t||fc,i,n)}terminate(){if(this.readyState!==e.CLOSED)if(this.readyState!==e.CONNECTING)this._socket&&(this._readyState=e.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";Pc(this,this._req,e)}}};function Lc(e,t,r,n){const i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Rc[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=i.autoPong,!Rc.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Rc.join(", ")})`);let s;if(t instanceof ac)s=t;else try{s=new ac(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===s.protocol?s.protocol="ws:":"https:"===s.protocol&&(s.protocol="wss:"),e._url=s.href;const o="wss:"===s.protocol,a="ws+unix:"===s.protocol;let h;if("ws:"===s.protocol||o||a?a&&!s.pathname?h="The URL's pathname is empty":s.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',h){const t=new SyntaxError(h);if(0===e._redirects)throw t;return void Ac(e,t)}const c=o?443:80,l=sc(16).toString("base64"),u=o?tc.request:rc.request,f=new Set;let d,p;if(i.createConnection=i.createConnection||(o?Nc:Cc),i.defaultPort=i.defaultPort||c,i.port=s.port||c,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(d=new hc(!0!==i.perMessageDeflate?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=wc({[hc.extensionName]:d.offer()})),r.length){for(const e of r){if("string"!=typeof e||!Tc.test(e)||f.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(e)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),a){const e=i.path.split(":");i.socketPath=e[0],i.path=e[1]}if(i.followRedirects){if(0===e._redirects){e._originalIpc=a,e._originalSecure=o,e._originalHostOrSocketPath=a?i.socketPath:s.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,r]of Object.entries(t))n.headers[e.toLowerCase()]=r}else if(0===e.listenerCount("redirect")){const t=a?!!e._originalIpc&&i.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&s.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!o)&&(delete i.headers.authorization,delete i.headers.cookie,t||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+y.from(i.auth).toString("base64")),p=e._req=u(i),e._redirects&&e.emit("redirect",e.url,p)}else p=e._req=u(i);i.timeout&&p.on("timeout",(()=>{Pc(e,p,"Opening handshake has timed out")})),p.on("error",(t=>{null===p||p[Sc]||(p=e._req=null,Ac(e,t))})),p.on("response",(s=>{const o=s.headers.location,a=s.statusCode;if(o&&i.followRedirects&&a>=300&&a<400){if(++e._redirects>i.maxRedirects)return void Pc(e,p,"Maximum redirects exceeded");let s;p.abort();try{s=new ac(o,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${o}`);return void Ac(e,r)}Lc(e,s,r,n)}else e.emit("unexpected-response",p,s)||Pc(e,p,`Unexpected server response: ${s.statusCode}`)})),p.on("upgrade",((t,r,n)=>{if(e.emit("upgrade",t),e.readyState!==Oc.CONNECTING)return;p=e._req=null;const s=t.headers.upgrade;if(void 0===s||"websocket"!==s.toLowerCase())return void Pc(e,r,"Invalid Upgrade header");const o=oc("sha1").update(l+dc).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void Pc(e,r,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"];let h;if(void 0!==a?f.size?f.has(a)||(h="Server sent an invalid subprotocol"):h="Server sent a subprotocol but none was requested":f.size&&(h="Server sent no subprotocol"),h)return void Pc(e,r,h);a&&(e._protocol=a);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!d)return void Pc(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=Ec(c)}catch(t){return void Pc(e,r,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==hc.extensionName)return void Pc(e,r,"Server indicated an extension that was not requested");try{d.accept(t[hc.extensionName])}catch(t){return void Pc(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[hc.extensionName]=d}e.setSocket(r,n,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})})),i.finishRequest?i.finishRequest(p,e):p.end()}function Ac(e,t){e._readyState=Oc.CLOSING,e.emit("error",t),e.emitClose()}function Cc(e){return e.path=e.socketPath,nc.connect(e)}function Nc(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=nc.isIP(e.host)?"":e.host),ic.connect(e)}function Pc(e,t,r){e._readyState=Oc.CLOSING;const n=new Error(r);Error.captureStackTrace(n,Pc),t.setHeader?(t[Sc]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),rt.nextTick(Ac,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function Uc(e,t,r){if(t){const r=kc(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${xc[e.readyState]})`);rt.nextTick(r,t)}}function Ic(e,t){const r=this[mc];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[mc]&&(r._socket.removeListener("data",Wc),rt.nextTick(qc,r._socket),1005===e?r.close():r.close(e,t))}function Bc(){const e=this[mc];e.isPaused||e._socket.resume()}function Mc(e){const t=this[mc];void 0!==t._socket[mc]&&(t._socket.removeListener("data",Wc),rt.nextTick(qc,t._socket),t.close(e[gc])),t.emit("error",e)}function Dc(){this[mc].emitClose()}function zc(e,t){this[mc].emit("message",e,t)}function jc(e){const t=this[mc];t._autoPong&&t.pong(e,!this._isServer,yc),t.emit("ping",e)}function Fc(e){this[mc].emit("pong",e)}function qc(e){e.resume()}function Hc(){const e=this[mc];let t;this.removeListener("close",Hc),this.removeListener("data",Wc),this.removeListener("end",Zc),e._readyState=Oc.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[mc]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",Dc),e._receiver.on("finish",Dc))}function Wc(e){this[mc]._receiver.write(e)||this.pause()}function Zc(){const e=this[mc];e._readyState=Oc.CLOSING,e._receiver.end(),this.end()}function Vc(){const e=this[mc];this.removeListener("error",Vc),this.on("error",yc),e&&(e._readyState=Oc.CLOSING,this.destroy())}Object.defineProperty(Oc,"CONNECTING",{enumerable:!0,value:xc.indexOf("CONNECTING")}),Object.defineProperty(Oc.prototype,"CONNECTING",{enumerable:!0,value:xc.indexOf("CONNECTING")}),Object.defineProperty(Oc,"OPEN",{enumerable:!0,value:xc.indexOf("OPEN")}),Object.defineProperty(Oc.prototype,"OPEN",{enumerable:!0,value:xc.indexOf("OPEN")}),Object.defineProperty(Oc,"CLOSING",{enumerable:!0,value:xc.indexOf("CLOSING")}),Object.defineProperty(Oc.prototype,"CLOSING",{enumerable:!0,value:xc.indexOf("CLOSING")}),Object.defineProperty(Oc,"CLOSED",{enumerable:!0,value:xc.indexOf("CLOSED")}),Object.defineProperty(Oc.prototype,"CLOSED",{enumerable:!0,value:xc.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(Oc.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(Oc.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[pc])return t[_c];return null},set(t){for(const t of this.listeners(e))if(t[pc]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[pc]:!0})}})})),Oc.prototype.addEventListener=bc,Oc.prototype.removeEventListener=vc;const Yc=nt(Oc),Gc=rt.nextTick,$c="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Kc={websocket:class extends ke{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=$c?{}:ye(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=new Yc(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;oe(r,this.supportsBinary,(e=>{const t={};r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate&&("string"==typeof e?y.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1);try{this.ws.send(e,t)}catch(e){}n&&Gc((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ce()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Yc}},webtransport:class extends ke{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){de||(de=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(0===n){if(pe(r)<1)break;const e=_e(r,1);s=!(128&~e[0]),i=127&e[0],n=i<126?3:126===i?1:2}else if(1===n){if(pe(r)<2)break;const e=_e(r,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(pe(r)<8)break;const e=_e(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(se);break}i=s*Math.pow(2,32)+t.getUint32(4),n=3}else{if(pe(r)<i)break;const e=_e(r,i);a.enqueue(ce(s?e:de.decode(e),t)),n=0}if(0===i||i>e){a.enqueue(se);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=fe();n.readable.pipeTo(e.writable),this.writer=n.writable.getWriter();const i=()=>{r.read().then((({done:e,value:t})=>{e||(this.onPacket(t),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this.writer.write(r).then((()=>{n&&Gc((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends ke{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}const t=e&&e.forceBase64;this.supportsBinary=pi&&!t,this.opts.withCredentials&&(this.cookieJar=new fi)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(ue),n=[];for(let e=0;e<r.length;e++){const i=ce(r[e],t);if(n.push(i),"error"===i.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach(((e,s)=>{oe(e,!1,(e=>{n[s]=e,++i===r&&t(n.join(ue))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ce()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new _i(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Xc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qc(e){if(e.length>2e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Xc.exec(e||""),s={},o=14;for(;o--;)s[Jc[o]]=i[o]||"";return-1!=r&&-1!=n&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,s.path),s.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}let el=class e extends ge{constructor(e,t={}){super(),this.binaryType="nodebuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=Qc(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Qc(t.host).host),we(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Kc[e](r)}open(){let t;if(this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(t){let r=this.createTransport(t),n=!1;e.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;e.priorWebsocketSuccess="websocket"===r.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=r.name,this.emitReserved("upgradeError",e)}})))};function s(){n||(n=!0,l(),r.close(),r=null)}const o=e=>{const t=new Error("probe error: "+e);t.transport=r.name,s(),this.emitReserved("upgradeError",t)};function a(){o("transport closed")}function h(){o("socket closed")}function c(e){r&&e.name!==r.name&&s()}const l=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",h),this.off("upgrading",c)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",h),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||r.open()}),200):r.open()}onOpen(){if(this.readyState="open",e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"==typeof(t=n)?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this.maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(t){e.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};el.protocol=4;const tl="function"==typeof ArrayBuffer,rl=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,nl=Object.prototype.toString,il="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===nl.call(Blob),sl="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===nl.call(File);function ol(e){return tl&&(e instanceof ArrayBuffer||rl(e))||il&&e instanceof Blob||sl&&e instanceof File}function al(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(al(e[t]))return!0;return!1}if(ol(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return al(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&al(e[t]))return!0;return!1}function hl(e){const t=[],r=e.data,n=e;return n.data=cl(r,t),n.attachments=t.length,{packet:n,buffers:t}}function cl(e,t){if(!e)return e;if(ol(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=cl(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=cl(e[n],t));return r}return e}function ll(e,t){return e.data=ul(e.data,t),delete e.attachments,e}function ul(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=ul(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=ul(e[r],t));return e}const fl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var dl;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(dl||(dl={}));function pl(e){return"[object Object]"===Object.prototype.toString.call(e)}class _l extends ge{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===dl.BINARY_EVENT;r||t.type===dl.BINARY_ACK?(t.type=r?dl.EVENT:dl.ACK,this.reconstructor=new gl(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ol(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===dl[r.type])throw new Error("unknown packet type "+r.type);if(r.type===dl.BINARY_EVENT||r.type===dl.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!_l.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case dl.CONNECT:return pl(t);case dl.DISCONNECT:return void 0===t;case dl.CONNECT_ERROR:return"string"==typeof t||pl(t);case dl.EVENT:case dl.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===fl.indexOf(t[0]));case dl.ACK:case dl.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class gl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ll(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var ml=Object.freeze({__proto__:null,Decoder:_l,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==dl.EVENT&&e.type!==dl.ACK||!al(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===dl.EVENT?dl.BINARY_EVENT:dl.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==dl.BINARY_EVENT&&e.type!==dl.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=hl(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}},get PacketType(){return dl},protocol:5});function yl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const bl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vl extends ge{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[yl(e,"open",this.onopen.bind(this)),yl(e,"packet",this.onpacket.bind(this)),yl(e,"error",this.onerror.bind(this)),yl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(bl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const r={type:dl.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n),s=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise(((r,n)=>{const i=(e,t)=>e?n(e):r(t);i.withError=!0,t.push(i),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...n)=>{if(r===this._queue[0])return null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:dl.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case dl.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dl.EVENT:case dl.BINARY_EVENT:this.onevent(e);break;case dl.ACK:case dl.BINARY_ACK:this.onack(e);break;case dl.DISCONNECT:this.ondisconnect();break;case dl.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,t.packet({type:dl.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dl.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function wl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+r:e-r}return 0|Math.min(e,this.max)},wl.prototype.reset=function(){this.attempts=0},wl.prototype.setMin=function(e){this.ms=e},wl.prototype.setMax=function(e){this.max=e},wl.prototype.setJitter=function(e){this.jitter=e};class El extends ge{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,we(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new wl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||ml;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new el(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=yl(t,"open",(function(){r.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=yl(t,"error",i);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(yl(e,"ping",this.onping.bind(this)),yl(e,"data",this.ondata.bind(this)),yl(e,"error",this.onerror.bind(this)),yl(e,"close",this.onclose.bind(this)),yl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){Gc((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new vl(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const kl={};function Sl(e,t){"object"==typeof e&&(t=e,e=void 0);const r=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=Qc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=kl[i]&&s in kl[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new El(n,t):(kl[i]||(kl[i]=new El(n,t)),a=kl[i]),r.query&&!t.query&&(t.query=r.queryKey),a.socket(r.path,t)}Object.assign(Sl,{Manager:El,Socket:vl,io:Sl,connect:Sl});var Rl=Object.freeze({__proto__:null,Manager:El,Socket:vl,connect:Sl,default:Sl,io:Sl,protocol:5});e.SocketIO=Rl}(t)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r(482)})()));